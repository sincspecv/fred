{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Fred Documentation","text":"<p>Welcome to the Fred framework documentation! Fred is a flexible framework for building AI agents with intent-based routing, configurable agents with system messages and tool assignments, and support for multiple AI platforms.</p>"},{"location":"#what-is-fred","title":"What is Fred?","text":"<p>Fred is a powerful framework that allows you to:</p> <ul> <li>Build AI Agents: Create intelligent agents with custom system messages and behaviors</li> <li>Intent-Based Routing: Route messages to specific agents based on user intents</li> <li>Agent-Level Utterances: Define utterances directly on agents for direct routing (bypasses intent matching)</li> <li>Markdown System Prompts: Store system prompts in markdown files for better organization</li> <li>Dynamic Agent Handoff: Agents can seamlessly transfer conversations to other agents</li> <li>Pipeline Hooks: Intercept and modify the message pipeline at 12 strategic points</li> <li>MCP Server Integration: Connect agents to MCP (Model Context Protocol) servers for automatic tool discovery</li> <li>Multi-Platform Support: Use any AI provider supported by the Vercel AI SDK (OpenAI, Anthropic, Google, Groq, and 20+ more)</li> <li>Tool Integration: Assign reusable tools to agents for extended capabilities</li> <li>Global Context: Maintain conversation context across multiple agents seamlessly</li> <li>OpenAI-Compatible API: Works with standard AI chat tools like Misty, Chatbox, etc.</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>import { Fred } from 'fred';\n\nconst fred = new Fred();\n\n// Use a provider\nawait fred.useProvider('openai', { apiKey: 'your-key' });\n\n// Create an agent\nawait fred.createAgent({\n  id: 'my-agent',\n  systemMessage: 'You are a helpful assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n});\n\n// Set as default agent\nfred.setDefaultAgent('my-agent');\n\n// Process messages\nconst response = await fred.processMessage('Hello!');\nconsole.log(response.content);\n</code></pre>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#intent-based-routing","title":"\ud83c\udfaf Intent-Based Routing","text":"<p>Match user messages to intents using exact, regex, or semantic matching, then route to the appropriate agent.</p>"},{"location":"#configurable-agents","title":"\ud83e\udd16 Configurable Agents","text":"<p>Define agents with custom system messages, AI platform integration, and tool assignments.</p>"},{"location":"#tool-registry","title":"\ud83d\udee0\ufe0f Tool Registry","text":"<p>Create reusable tools that can be shared across multiple agents.</p>"},{"location":"#multi-platform-support","title":"\ud83c\udf10 Multi-Platform Support","text":"<p>Supports all @ai-sdk providers including OpenAI, Anthropic, Google, Groq, Mistral, Cohere, and 15+ more.</p>"},{"location":"#global-context","title":"\ud83d\udcac Global Context","text":"<p>Maintain conversation history across all agents for seamless multi-agent conversations.</p>"},{"location":"#openai-compatible-api","title":"\ud83d\udd0c OpenAI-Compatible API","text":"<p>Standard <code>/v1/chat/completions</code> endpoint works with AI chat tools like Misty and Chatbox.</p>"},{"location":"#markdown-system-prompts","title":"\ud83d\udcdd Markdown System Prompts","text":"<p>Store complex system prompts in markdown files for better organization and maintainability.</p>"},{"location":"#dynamic-agent-handoff","title":"\ud83d\udd04 Dynamic Agent Handoff","text":"<p>Agents can seamlessly transfer conversations to other agents when needed.</p>"},{"location":"#pipeline-hooks","title":"\ud83e\ude9d Pipeline Hooks","text":"<p>Intercept and modify the message processing pipeline at 12 strategic points for context injection, logging, and custom processing.</p>"},{"location":"#mcp-server-integration","title":"\ud83d\udd0c MCP Server Integration","text":"<p>Connect agents to MCP (Model Context Protocol) servers to automatically discover and use tools, resources, and prompts. MCP tools are seamlessly integrated with the AI SDK.</p>"},{"location":"#embedded-cli","title":"\u26a1 Embedded CLI","text":"<p>Built-in CLI commands for managing providers, agents, and tools - no additional packages required.</p>"},{"location":"#documentation-structure","title":"Documentation Structure","text":"<ul> <li>Getting Started - Installation and setup</li> <li>Guides - Step-by-step guides for using Fred</li> <li>API Reference - Complete API documentation</li> <li>Examples - Code examples and tutorials</li> <li>Advanced - Advanced topics and customization</li> </ul>"},{"location":"#installation","title":"Installation","text":""},{"location":"#quick-start-with-create-fred","title":"Quick Start with create-fred","text":"<p>The easiest way to get started:</p> <pre><code>bunx create-fred my-project\n</code></pre> <p>This creates a complete project with all dependencies installed and the embedded CLI ready to use.</p>"},{"location":"#manual-installation","title":"Manual Installation","text":"<pre><code>bun add fred\n</code></pre> <p>Or with npm:</p> <pre><code>npm install fred\n</code></pre>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Read the Installation Guide</li> <li>Try the Quick Start</li> <li>Learn about the Embedded CLI</li> <li>Explore the Examples</li> </ul>"},{"location":"advanced/custom-providers/","title":"Custom Providers","text":"<p>Learn how to create custom AI providers for Fred.</p>"},{"location":"advanced/custom-providers/#provider-interface","title":"Provider Interface","text":"<pre><code>interface AIProvider {\n  getModel(modelId: string): LanguageModel;\n  getPlatform(): string;\n}\n</code></pre>"},{"location":"advanced/custom-providers/#creating-a-custom-provider","title":"Creating a Custom Provider","text":"<pre><code>import { AIProvider, ProviderConfig } from 'fred';\nimport { LanguageModel } from 'ai';\n\nclass CustomProvider implements AIProvider {\n  private config: ProviderConfig;\n\n  constructor(config: ProviderConfig = {}) {\n    this.config = config;\n  }\n\n  getModel(modelId: string): LanguageModel {\n    // Return a LanguageModel instance\n    // This depends on your custom implementation\n  }\n\n  getPlatform(): string {\n    return 'custom';\n  }\n}\n\n// Register the provider\nconst provider = new CustomProvider({ apiKey: 'your-key' });\nfred.registerProvider('custom', provider);\n</code></pre>"},{"location":"advanced/custom-providers/#using-custom-providers","title":"Using Custom Providers","text":"<pre><code>await fred.createAgent({\n  id: 'agent',\n  platform: 'custom',\n  model: 'custom-model',\n  systemMessage: 'You are helpful.',\n});\n</code></pre>"},{"location":"advanced/custom-tools/","title":"Custom Tools","text":"<p>Learn how to create advanced custom tools for Fred.</p>"},{"location":"advanced/custom-tools/#advanced-tool-example","title":"Advanced Tool Example","text":"<pre><code>fred.registerTool({\n  id: 'database-query',\n  name: 'database-query',\n  description: 'Query the database',\n  parameters: {\n    type: 'object',\n    properties: {\n      query: { type: 'string' },\n      params: { type: 'object' },\n    },\n    required: ['query'],\n  },\n  execute: async (args) =&gt; {\n    // Database query implementation\n    const results = await db.query(args.query, args.params);\n    return results;\n  },\n});\n</code></pre>"},{"location":"advanced/custom-tools/#tool-with-authentication","title":"Tool with Authentication","text":"<pre><code>fred.registerTool({\n  id: 'authenticated-api',\n  name: 'authenticated-api',\n  description: 'Call authenticated API',\n  parameters: {\n    type: 'object',\n    properties: {\n      endpoint: { type: 'string' },\n      method: { type: 'string', enum: ['GET', 'POST', 'PUT', 'DELETE'] },\n    },\n    required: ['endpoint'],\n  },\n  execute: async (args) =&gt; {\n    const response = await fetch(args.endpoint, {\n      method: args.method || 'GET',\n      headers: {\n        'Authorization': `Bearer ${process.env.API_TOKEN}`,\n      },\n    });\n    return await response.json();\n  },\n});\n</code></pre>"},{"location":"advanced/deployment/","title":"Deployment","text":"<p>Guide for deploying Fred applications to production.</p>"},{"location":"advanced/deployment/#environment-variables","title":"Environment Variables","text":"<p>Set all required API keys:</p> <pre><code>export OPENAI_API_KEY=your_key\nexport GROQ_API_KEY=your_key\n</code></pre>"},{"location":"advanced/deployment/#server-deployment","title":"Server Deployment","text":""},{"location":"advanced/deployment/#docker","title":"Docker","text":"<pre><code>FROM oven/bun:latest\nWORKDIR /app\nCOPY package.json .\nRUN bun install\nCOPY . .\nCMD [\"bun\", \"run\", \"src/server.ts\"]\n</code></pre>"},{"location":"advanced/deployment/#railway","title":"Railway","text":"<ol> <li>Connect your repository</li> <li>Set environment variables</li> <li>Deploy</li> </ol>"},{"location":"advanced/deployment/#vercel","title":"Vercel","text":"<ol> <li>Install Vercel CLI</li> <li>Run <code>vercel</code></li> <li>Set environment variables in dashboard</li> </ol>"},{"location":"advanced/deployment/#production-considerations","title":"Production Considerations","text":"<ul> <li>Use environment variables for API keys</li> <li>Implement rate limiting</li> <li>Add authentication</li> <li>Monitor usage and costs</li> <li>Set up logging</li> <li>Use production-grade storage for context</li> </ul>"},{"location":"advanced/flox-integration/","title":"Flox Development Environment","text":"<p>Fred includes Flox configuration for consistent, reproducible development environments across all contributors and machines.</p>"},{"location":"advanced/flox-integration/#what-is-flox","title":"What is Flox?","text":"<p>Flox is a package manager and development environment tool built on Nix that provides:</p> <ul> <li>Reproducible environments: Same tools and versions for everyone</li> <li>Easy onboarding: New contributors can get started with one command</li> <li>Isolated environments: No conflicts with system packages</li> <li>Team consistency: Share environments via FloxHub</li> </ul>"},{"location":"advanced/flox-integration/#installation","title":"Installation","text":""},{"location":"advanced/flox-integration/#install-flox","title":"Install Flox","text":"<p>Follow the official Flox installation guide:</p> <pre><code># macOS (using Homebrew - recommended)\nbrew install flox\n\n# Linux (using package manager - recommended)\n# Check your distribution's package manager or use the official installer\n\n# Linux (manual installation - safer than pipe-to-shell)\n# 1. Download the installer script\ncurl -fsSL https://flox.dev/install -o /tmp/flox-install.sh\n\n# 2. Review the script contents\ncat /tmp/flox-install.sh\n\n# 3. If satisfied, execute it\nbash /tmp/flox-install.sh\n\n# Or use Nix\nnix profile install --experimental-features \"nix-command flakes\" \\\n  --accept-flake-config 'github:flox/flox/latest'\n</code></pre> <p>Security Note: Avoid piping downloads directly to shell (<code>curl | bash</code>). Always download, review, then execute installation scripts to prevent remote code execution risks from compromised downloads or MITM attacks.</p>"},{"location":"advanced/flox-integration/#using-flox-with-fred","title":"Using Flox with Fred","text":""},{"location":"advanced/flox-integration/#activating-the-development-environment","title":"Activating the Development Environment","text":"<p>In the Fred repository root:</p> <pre><code># Activate the Flox environment\nflox activate\n</code></pre> <p>This will: - Provide Bun (latest version) - Set up essential development tools - Configure environment variables - Display a welcome message with available commands</p>"},{"location":"advanced/flox-integration/#working-in-the-environment","title":"Working in the Environment","text":"<p>Once activated, you can use all standard commands:</p> <pre><code># Install dependencies\nbun install\n\n# Build the project\nbun run build\n\n# Run tests\nbun test\n\n# Start dev server\nbun run dev\n\n# Run golden trace tests\nfred test\n</code></pre>"},{"location":"advanced/flox-integration/#exiting-the-environment","title":"Exiting the Environment","text":"<p>To exit the Flox environment:</p> <pre><code>exit\n</code></pre> <p>Or press <code>Ctrl+D</code>.</p>"},{"location":"advanced/flox-integration/#flox-configuration","title":"Flox Configuration","text":"<p>The Fred repository includes a <code>flox.nix</code> file that defines the development environment:</p> <pre><code>{\n  packages.builtins = [\n    \"bashInteractive\"\n    \"git\"\n    \"curl\"\n  ];\n\n  packages.nixpkgs-flox = {\n    bun = \"latest\";\n  };\n\n  environmentVariables = {\n    NODE_ENV = \"development\";\n  };\n\n  shellHook = ''\n    echo \"\ud83d\udc30 Fred development environment activated\"\n    echo \"Bun version: $(bun --version)\"\n  '';\n}\n</code></pre>"},{"location":"advanced/flox-integration/#customizing-the-environment","title":"Customizing the Environment","text":"<p>You can modify <code>flox.nix</code> to add additional tools or packages:</p> <pre><code>packages.nixpkgs-flox = {\n  bun = \"latest\";\n  nodejs = \"20\";  # Add Node.js if needed\n  # Add other packages as needed\n};\n</code></pre> <p>After modifying <code>flox.nix</code>, reactivate the environment:</p> <pre><code>flox activate\n</code></pre>"},{"location":"advanced/flox-integration/#projects-created-with-create-fred","title":"Projects Created with create-fred","text":"<p>Projects generated with <code>create-fred</code> automatically include a <code>flox.nix</code> file, providing the same consistent development environment for your Fred projects.</p>"},{"location":"advanced/flox-integration/#using-flox-in-your-project","title":"Using Flox in Your Project","text":"<pre><code>cd my-fred-project\n\n# Activate Flox environment\nflox activate\n\n# Install dependencies\nbun install\n\n# Start development\nbun run dev\n</code></pre>"},{"location":"advanced/flox-integration/#benefits","title":"Benefits","text":""},{"location":"advanced/flox-integration/#for-contributors","title":"For Contributors","text":"<ul> <li>Consistent setup: Everyone has the same Bun version</li> <li>Easy onboarding: New contributors can start immediately</li> <li>No conflicts: Isolated from system packages</li> <li>Reproducible builds: Same environment = same results</li> </ul>"},{"location":"advanced/flox-integration/#for-teams","title":"For Teams","text":"<ul> <li>Shared environments: Use FloxHub to share environments</li> <li>Version control: Environment is versioned with your code</li> <li>CI/CD ready: Same environment in CI as locally</li> </ul>"},{"location":"advanced/flox-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"advanced/flox-integration/#flox-not-found","title":"Flox not found","text":"<p>If <code>flox</code> command is not found:</p> <ol> <li>Verify Flox is installed: <code>which flox</code></li> <li>Check your PATH includes Flox</li> <li>Restart your terminal after installation</li> </ol>"},{"location":"advanced/flox-integration/#environment-not-activating","title":"Environment not activating","text":"<p>If <code>flox activate</code> doesn't work:</p> <ol> <li>Ensure you're in the repository root (where <code>flox.nix</code> exists)</li> <li>Check <code>flox.nix</code> syntax is valid</li> <li>Try <code>flox init</code> to reinitialize if needed</li> </ol>"},{"location":"advanced/flox-integration/#bun-version-mismatch","title":"Bun version mismatch","text":"<p>If you see version issues:</p> <ol> <li>The Flox environment provides Bun automatically</li> <li>Don't use system Bun when in Flox environment</li> <li>Verify with <code>which bun</code> (should point to Flox-provided Bun)</li> </ol>"},{"location":"advanced/flox-integration/#alternatives","title":"Alternatives","text":"<p>Flox is optional. You can still:</p> <ul> <li>Use Bun directly from bun.sh</li> <li>Use system package managers</li> <li>Use other environment managers (nvm, asdf, etc.)</li> </ul> <p>Flox simply provides additional consistency and reproducibility.</p>"},{"location":"advanced/flox-integration/#additional-resources","title":"Additional Resources","text":"<ul> <li>Flox Documentation</li> <li>FloxHub - Share environments with your team</li> <li>Nix Package Manager - Underlying technology</li> </ul>"},{"location":"advanced/observability/","title":"Observability &amp; Tracing","text":"<p>Fred provides comprehensive observability through a lightweight tracing system that can optionally integrate with OpenTelemetry.</p>"},{"location":"advanced/observability/#overview","title":"Overview","text":"<p>The tracing system instruments the entire message processing pipeline, including:</p> <ul> <li>Routing: Agent utterance matching and intent matching</li> <li>Agent Selection: Which agent was selected and why</li> <li>Model Calls: AI model invocations with timing and token usage</li> <li>Tool Execution: Tool calls with arguments, results, and timing</li> <li>Agent Handoffs: Transfers between agents with context</li> <li>Hook Execution: Pipeline hook invocations</li> </ul>"},{"location":"advanced/observability/#basic-usage","title":"Basic Usage","text":"<p>Tracing is opt-in and disabled by default for zero overhead when not needed.</p>"},{"location":"advanced/observability/#enable-tracing","title":"Enable Tracing","text":"<pre><code>import { Fred } from 'fred';\nimport { NoOpTracer } from 'fred/core/tracing';\n\nconst fred = new Fred();\n\n// Enable tracing with default no-op tracer (zero overhead)\nfred.enableTracing();\n\n// Or pass a custom tracer\nfred.enableTracing(customTracer);\n</code></pre>"},{"location":"advanced/observability/#using-with-processmessage","title":"Using with processMessage","text":"<p>Tracing automatically captures spans when processing messages:</p> <pre><code>const response = await fred.processMessage('Hello, world!');\n// Spans are automatically created for:\n// - processMessage (root span)\n// - routing\n// - agent.process\n// - model.call\n// - tool.execute (if tools are called)\n// - agent.handoff (if handoffs occur)\n</code></pre>"},{"location":"advanced/observability/#opentelemetry-integration","title":"OpenTelemetry Integration","text":"<p>Fred can export traces to OpenTelemetry for integration with observability platforms.</p>"},{"location":"advanced/observability/#installation","title":"Installation","text":"<pre><code>npm install @opentelemetry/api\n</code></pre>"},{"location":"advanced/observability/#using-opentelemetry-tracer","title":"Using OpenTelemetry Tracer","text":"<pre><code>import { Fred } from 'fred';\nimport { createOpenTelemetryTracer } from 'fred/core/tracing/otel-exporter';\n\n// Check if OpenTelemetry is available\nif (isOpenTelemetryAvailable()) {\n  const otelTracer = createOpenTelemetryTracer();\n  if (otelTracer) {\n    fred.enableTracing(otelTracer);\n  }\n}\n</code></pre>"},{"location":"advanced/observability/#full-opentelemetry-setup","title":"Full OpenTelemetry Setup","text":"<p>For a complete OpenTelemetry setup, you'll need to configure exporters:</p> <pre><code>import { NodeSDK } from '@opentelemetry/sdk-node';\nimport { getNodeAutoInstrumentations } from '@opentelemetry/auto-instrumentations-node';\nimport { OTLPTraceExporter } from '@opentelemetry/exporter-otlp-http';\nimport { Resource } from '@opentelemetry/resources';\nimport { SemanticResourceAttributes } from '@opentelemetry/semantic-conventions';\n\nconst sdk = new NodeSDK({\n  resource: new Resource({\n    [SemanticResourceAttributes.SERVICE_NAME]: 'fred-app',\n  }),\n  traceExporter: new OTLPTraceExporter({\n    url: 'http://localhost:4318/v1/traces',\n  }),\n  instrumentations: [getNodeAutoInstrumentations()],\n});\n\nsdk.start();\n\n// Then use Fred with OpenTelemetry\nconst otelTracer = createOpenTelemetryTracer();\nfred.enableTracing(otelTracer);\n</code></pre>"},{"location":"advanced/observability/#span-attributes","title":"Span Attributes","text":"<p>Spans include rich attributes for debugging and analysis:</p>"},{"location":"advanced/observability/#routing-spans","title":"Routing Spans","text":"<ul> <li><code>routing.method</code>: <code>agent.utterance</code> | <code>intent.matching</code> | <code>default.agent</code></li> <li><code>routing.agentId</code>: Selected agent ID</li> <li><code>routing.confidence</code>: Match confidence (0-1)</li> <li><code>routing.matchType</code>: <code>exact</code> | <code>regex</code> | <code>semantic</code></li> </ul>"},{"location":"advanced/observability/#model-call-spans","title":"Model Call Spans","text":"<ul> <li><code>agent.id</code>: Agent ID</li> <li><code>model.name</code>: Model identifier</li> <li><code>model.platform</code>: AI platform</li> <li><code>model.temperature</code>: Temperature setting</li> <li><code>response.length</code>: Response text length</li> <li><code>response.finishReason</code>: Finish reason</li> <li><code>usage.promptTokens</code>: Prompt tokens used</li> <li><code>usage.completionTokens</code>: Completion tokens used</li> <li><code>usage.totalTokens</code>: Total tokens used</li> </ul>"},{"location":"advanced/observability/#tool-execution-spans","title":"Tool Execution Spans","text":"<ul> <li><code>tool.id</code>: Tool identifier</li> <li><code>tool.name</code>: Tool name</li> <li><code>tool.args</code>: Tool arguments (JSON stringified)</li> <li><code>tool.result.type</code>: Result type</li> <li><code>tool.result.hasValue</code>: Whether result exists</li> </ul>"},{"location":"advanced/observability/#handoff-spans","title":"Handoff Spans","text":"<ul> <li><code>handoff.fromAgent</code>: Source agent ID</li> <li><code>handoff.toAgent</code>: Target agent ID</li> <li><code>handoff.depth</code>: Handoff depth in chain</li> <li><code>handoff.hasContext</code>: Whether context was passed</li> </ul>"},{"location":"advanced/observability/#custom-tracers","title":"Custom Tracers","text":"<p>You can implement your own tracer by implementing the <code>Tracer</code> interface:</p> <pre><code>import { Tracer, Span, SpanOptions } from 'fred/core/tracing';\n\nclass CustomTracer implements Tracer {\n  startSpan(name: string, options?: SpanOptions): Span {\n    // Create and return a custom span\n  }\n\n  getActiveSpan(): Span | undefined {\n    // Return current active span\n  }\n\n  setActiveSpan(span: Span | undefined): void {\n    // Set active span\n  }\n\n  getTraceId(): string | undefined {\n    // Return trace ID\n  }\n}\n</code></pre>"},{"location":"advanced/observability/#performance-considerations","title":"Performance Considerations","text":"<ul> <li>No-op tracer: Zero overhead when tracing is disabled</li> <li>Span creation: Minimal overhead (~1-2ms per span)</li> <li>Attribute recording: Negligible overhead</li> <li>OpenTelemetry export: Depends on exporter configuration</li> </ul> <p>For production, consider: - Sampling traces (only record a percentage) - Using async exporters - Filtering low-value spans</p>"},{"location":"advanced/observability/#best-practices","title":"Best Practices","text":"<ol> <li>Enable tracing in development: Use tracing to debug and understand agent behavior</li> <li>Use OpenTelemetry in production: Export to your observability platform</li> <li>Monitor key spans: Focus on <code>model.call</code> and <code>tool.execute</code> for performance</li> <li>Track handoffs: Monitor handoff chains to optimize agent routing</li> <li>Use attributes wisely: Don't log sensitive data in span attributes</li> </ol>"},{"location":"advanced/observability/#examples","title":"Examples","text":"<p>See the examples directory for complete tracing examples.</p>"},{"location":"api-reference/agents/","title":"Agents API","text":"<p>API reference for agent configuration and management.</p>"},{"location":"api-reference/agents/#agentconfig","title":"AgentConfig","text":"<pre><code>interface AgentConfig {\n  id: string;                    // Unique agent identifier\n  systemMessage: string;         // System message (string or file path to .md file)\n  platform: AIPlatform;          // AI platform ('openai', 'groq', etc.)\n  model: string;                 // Model identifier\n  tools?: string[];              // Array of tool IDs\n  utterances?: string[];         // Phrases for direct routing (bypasses intents)\n  temperature?: number;          // Temperature (0-1)\n  maxTokens?: number;            // Maximum tokens\n  mcpServers?: MCPServerConfig[]; // MCP servers to connect to\n}\n</code></pre>"},{"location":"api-reference/agents/#mcpserverconfig","title":"MCPServerConfig","text":"<pre><code>interface MCPServerConfig {\n  id: string;                    // Unique identifier for this MCP server\n  name?: string;                 // Optional display name\n  transport: 'stdio' | 'http' | 'sse';\n\n  // For stdio transport\n  command?: string;              // Command to run (e.g., 'npx', 'node')\n  args?: string[];               // Arguments\n  env?: Record&lt;string, string&gt;;  // Environment variables\n\n  // For HTTP/SSE transport\n  url?: string;                  // Server URL\n  headers?: Record&lt;string, string&gt;; // Optional headers\n\n  // Optional configuration\n  enabled?: boolean;             // Enable/disable (default: true)\n  timeout?: number;              // Connection timeout in ms (default: 30000)\n}\n</code></pre>"},{"location":"api-reference/agents/#agentinstance","title":"AgentInstance","text":"<pre><code>interface AgentInstance {\n  id: string;\n  config: AgentConfig;\n  processMessage: (\n    message: string,\n    messages?: AgentMessage[]\n  ) =&gt; Promise&lt;AgentResponse&gt;;\n}\n</code></pre>"},{"location":"api-reference/agents/#agentmessage","title":"AgentMessage","text":"<pre><code>interface AgentMessage {\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n}\n</code></pre>"},{"location":"api-reference/agents/#agentresponse","title":"AgentResponse","text":"<pre><code>interface AgentResponse {\n  content: string;\n  toolCalls?: Array&lt;{\n    toolId: string;\n    args: Record&lt;string, any&gt;;\n    result?: any;\n  }&gt;;\n  handoff?: {\n    type: 'handoff';\n    agentId: string;\n    message: string;\n    context?: Record&lt;string, any&gt;;\n  };\n}\n</code></pre>"},{"location":"api-reference/agents/#aiplatform","title":"AIPlatform","text":"<p>Supported platform types:</p> <pre><code>type AIPlatform = \n  | 'openai' \n  | 'groq' \n  | 'anthropic' \n  | 'google' \n  | 'mistral' \n  | 'cohere' \n  | 'vercel' \n  | 'azure-openai' \n  | 'azure-anthropic' \n  | 'azure'\n  | 'fireworks' \n  | 'xai' \n  | 'ollama' \n  | 'ai21' \n  | 'nvidia' \n  | 'bedrock' \n  | 'amazon-bedrock' \n  | 'cloudflare' \n  | 'elevenlabs' \n  | 'lepton' \n  | 'perplexity' \n  | 'replicate' \n  | 'together' \n  | 'upstash'\n  | string;\n</code></pre>"},{"location":"api-reference/agents/#examples","title":"Examples","text":""},{"location":"api-reference/agents/#creating-an-agent","title":"Creating an Agent","text":"<pre><code>await fred.createAgent({\n  id: 'my-agent',\n  systemMessage: 'You are a helpful assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n  tools: ['calculator'],\n  temperature: 0.7,\n  maxTokens: 2000,\n});\n</code></pre>"},{"location":"api-reference/agents/#using-an-agent","title":"Using an Agent","text":"<pre><code>const agent = fred.getAgent('my-agent');\nif (agent) {\n  const response = await agent.processMessage('Hello!');\n  console.log(response.content);\n}\n</code></pre>"},{"location":"api-reference/agents/#agent-with-tools","title":"Agent with Tools","text":"<pre><code>// Register tools first\nfred.registerTool({ id: 'tool1', /* ... */ });\nfred.registerTool({ id: 'tool2', /* ... */ });\n\n// Create agent with tools\nawait fred.createAgent({\n  id: 'agent',\n  systemMessage: 'You can use tools.',\n  platform: 'openai',\n  model: 'gpt-4',\n  tools: ['tool1', 'tool2'],\n});\n</code></pre>"},{"location":"api-reference/context/","title":"Context API","text":"<p>API reference for conversation context management.</p>"},{"location":"api-reference/context/#contextmanager","title":"ContextManager","text":"<p>Manages conversation contexts and message history.</p>"},{"location":"api-reference/context/#methods","title":"Methods","text":""},{"location":"api-reference/context/#generateconversationid","title":"generateConversationId()","text":"<p>Generate a unique conversation ID.</p> <pre><code>const conversationId = contextManager.generateConversationId();\n</code></pre>"},{"location":"api-reference/context/#getcontext","title":"getContext()","text":"<p>Get or create a conversation context.</p> <pre><code>const context = await contextManager.getContext(conversationId?: string): Promise&lt;ConversationContext&gt;\n</code></pre>"},{"location":"api-reference/context/#getcontextbyid","title":"getContextById()","text":"<p>Get conversation context by ID.</p> <pre><code>const context = await contextManager.getContextById(conversationId: string): Promise&lt;ConversationContext | null&gt;\n</code></pre>"},{"location":"api-reference/context/#addmessage","title":"addMessage()","text":"<p>Add a message to the conversation context.</p> <pre><code>await contextManager.addMessage(conversationId: string, message: CoreMessage): Promise&lt;void&gt;\n</code></pre>"},{"location":"api-reference/context/#addmessages","title":"addMessages()","text":"<p>Add multiple messages to the conversation context.</p> <pre><code>await contextManager.addMessages(conversationId: string, messages: CoreMessage[]): Promise&lt;void&gt;\n</code></pre>"},{"location":"api-reference/context/#gethistory","title":"getHistory()","text":"<p>Get conversation history.</p> <pre><code>const history = await contextManager.getHistory(conversationId: string): Promise&lt;CoreMessage[]&gt;\n</code></pre>"},{"location":"api-reference/context/#updatemetadata","title":"updateMetadata()","text":"<p>Update conversation metadata.</p> <pre><code>await contextManager.updateMetadata(\n  conversationId: string,\n  metadata: Partial&lt;ConversationMetadata&gt;\n): Promise&lt;void&gt;\n</code></pre>"},{"location":"api-reference/context/#clearcontext","title":"clearContext()","text":"<p>Clear conversation context.</p> <pre><code>await contextManager.clearContext(conversationId: string): Promise&lt;void&gt;\n</code></pre>"},{"location":"api-reference/context/#clearall","title":"clearAll()","text":"<p>Clear all conversation contexts.</p> <pre><code>await contextManager.clearAll(): Promise&lt;void&gt;\n</code></pre>"},{"location":"api-reference/context/#setstorage","title":"setStorage()","text":"<p>Set custom storage implementation.</p> <pre><code>contextManager.setStorage(storage: ContextStorage): void\n</code></pre>"},{"location":"api-reference/context/#conversationcontext","title":"ConversationContext","text":"<pre><code>interface ConversationContext {\n  id: string;\n  messages: CoreMessage[];\n  metadata: ConversationMetadata;\n}\n</code></pre>"},{"location":"api-reference/context/#conversationmetadata","title":"ConversationMetadata","text":"<pre><code>interface ConversationMetadata {\n  createdAt: Date;\n  updatedAt: Date;\n  [key: string]: any;\n}\n</code></pre>"},{"location":"api-reference/context/#contextstorage","title":"ContextStorage","text":"<p>Interface for custom storage implementations.</p> <pre><code>interface ContextStorage {\n  get(id: string): Promise&lt;ConversationContext | null&gt;;\n  set(id: string, context: ConversationContext): Promise&lt;void&gt;;\n  delete(id: string): Promise&lt;void&gt;;\n  clear(): Promise&lt;void&gt;;\n}\n</code></pre>"},{"location":"api-reference/context/#examples","title":"Examples","text":""},{"location":"api-reference/context/#getting-context-manager","title":"Getting Context Manager","text":"<pre><code>const contextManager = fred.getContextManager();\n</code></pre>"},{"location":"api-reference/context/#managing-conversation","title":"Managing Conversation","text":"<pre><code>const conversationId = contextManager.generateConversationId();\n\n// Add messages\nawait contextManager.addMessage(conversationId, {\n  role: 'user',\n  content: 'Hello!',\n});\n\n// Get history\nconst history = await contextManager.getHistory(conversationId);\n\n// Update metadata\nawait contextManager.updateMetadata(conversationId, {\n  userId: 'user123',\n});\n\n// Clear context\nawait contextManager.clearContext(conversationId);\n</code></pre>"},{"location":"api-reference/context/#custom-storage","title":"Custom Storage","text":"<pre><code>import { ContextStorage, ConversationContext } from 'fred';\n\nclass DatabaseStorage implements ContextStorage {\n  async get(id: string): Promise&lt;ConversationContext | null&gt; {\n    // Load from database\n  }\n\n  async set(id: string, context: ConversationContext): Promise&lt;void&gt; {\n    // Save to database\n  }\n\n  async delete(id: string): Promise&lt;void&gt; {\n    // Delete from database\n  }\n\n  async clear(): Promise&lt;void&gt; {\n    // Clear all from database\n  }\n}\n\nconst storage = new DatabaseStorage();\nconst contextManager = fred.getContextManager();\ncontextManager.setStorage(storage);\n</code></pre>"},{"location":"api-reference/fred-class/","title":"Fred Class","text":"<p>The main class for building AI agents with intent-based routing.</p>"},{"location":"api-reference/fred-class/#constructor","title":"Constructor","text":"<pre><code>const fred = new Fred();\n</code></pre> <p>Creates a new Fred instance with default configuration.</p>"},{"location":"api-reference/fred-class/#methods","title":"Methods","text":""},{"location":"api-reference/fred-class/#useprovider","title":"useProvider()","text":"<p>Register an AI provider.</p> <pre><code>await fred.useProvider(platform: string, config?: ProviderConfig): Promise&lt;AIProvider&gt;\n</code></pre> <p>Parameters: - <code>platform</code>: Platform name ('openai', 'groq', 'anthropic', etc.) - <code>config</code>: Optional provider configuration</p> <p>Returns: Provider instance</p> <p>Example:</p> <pre><code>const openai = await fred.useProvider('openai', { apiKey: 'your-key' });\n</code></pre>"},{"location":"api-reference/fred-class/#use","title":"use()","text":"<p>Register a custom integration/plugin.</p> <pre><code>fred.use(name: string, integration: ((fred: Fred) =&gt; void) | any): Fred\n</code></pre> <p>Parameters: - <code>name</code>: Integration name - <code>integration</code>: Integration function or object</p> <p>Returns: Fred instance (for chaining)</p> <p>Example:</p> <pre><code>fred.use('custom-logger', (fred) =&gt; {\n  // Custom integration\n});\n</code></pre>"},{"location":"api-reference/fred-class/#registerdefaultproviders","title":"registerDefaultProviders()","text":"<p>Register default providers (OpenAI and Groq).</p> <pre><code>fred.registerDefaultProviders(config?: {\n  openai?: ProviderConfig;\n  groq?: ProviderConfig;\n  [key: string]: ProviderConfig | undefined;\n}): void\n</code></pre> <p>Example:</p> <pre><code>fred.registerDefaultProviders({\n  openai: { apiKey: 'your-key' },\n  groq: { apiKey: 'your-key' },\n});\n</code></pre>"},{"location":"api-reference/fred-class/#registertool","title":"registerTool()","text":"<p>Register a tool.</p> <pre><code>fred.registerTool(tool: Tool): void\n</code></pre> <p>Example:</p> <pre><code>fred.registerTool({\n  id: 'calculator',\n  name: 'calculator',\n  description: 'Perform arithmetic',\n  parameters: { /* ... */ },\n  execute: async (args) =&gt; { /* ... */ },\n});\n</code></pre>"},{"location":"api-reference/fred-class/#registertools","title":"registerTools()","text":"<p>Register multiple tools.</p> <pre><code>fred.registerTools(tools: Tool[]): void\n</code></pre>"},{"location":"api-reference/fred-class/#gettool","title":"getTool()","text":"<p>Get a tool by ID.</p> <pre><code>fred.getTool(id: string): Tool | undefined\n</code></pre>"},{"location":"api-reference/fred-class/#registerintent","title":"registerIntent()","text":"<p>Register an intent.</p> <pre><code>fred.registerIntent(intent: Intent): void\n</code></pre> <p>Example:</p> <pre><code>fred.registerIntent({\n  id: 'greeting',\n  utterances: ['hello', 'hi'],\n  action: { type: 'agent', target: 'agent-id' },\n});\n</code></pre>"},{"location":"api-reference/fred-class/#registerintents","title":"registerIntents()","text":"<p>Register multiple intents.</p> <pre><code>fred.registerIntents(intents: Intent[]): void\n</code></pre>"},{"location":"api-reference/fred-class/#createagent","title":"createAgent()","text":"<p>Create an agent from configuration.</p> <pre><code>await fred.createAgent(config: AgentConfig): Promise&lt;AgentInstance&gt;\n</code></pre> <p>Example:</p> <pre><code>await fred.createAgent({\n  id: 'my-agent',\n  systemMessage: 'You are helpful.',\n  platform: 'openai',\n  model: 'gpt-4',\n});\n</code></pre>"},{"location":"api-reference/fred-class/#getagent","title":"getAgent()","text":"<p>Get an agent by ID.</p> <pre><code>fred.getAgent(id: string): AgentInstance | undefined\n</code></pre>"},{"location":"api-reference/fred-class/#setdefaultagent","title":"setDefaultAgent()","text":"<p>Set the default agent (fallback for unmatched messages).</p> <pre><code>fred.setDefaultAgent(agentId: string): void\n</code></pre> <p>Example:</p> <pre><code>await fred.createAgent({ id: 'default', /* ... */ });\nfred.setDefaultAgent('default');\n</code></pre>"},{"location":"api-reference/fred-class/#getdefaultagentid","title":"getDefaultAgentId()","text":"<p>Get the default agent ID.</p> <pre><code>fred.getDefaultAgentId(): string | undefined\n</code></pre>"},{"location":"api-reference/fred-class/#processmessage","title":"processMessage()","text":"<p>Process a user message through the intent system.</p> <pre><code>await fred.processMessage(\n  message: string,\n  options?: {\n    useSemanticMatching?: boolean;\n    semanticThreshold?: number;\n    conversationId?: string;\n  }\n): Promise&lt;AgentResponse | null&gt;\n</code></pre> <p>Example:</p> <pre><code>const response = await fred.processMessage('Hello!', {\n  conversationId: 'conv-123',\n});\n</code></pre>"},{"location":"api-reference/fred-class/#processchatmessage","title":"processChatMessage()","text":"<p>Process OpenAI-compatible chat messages.</p> <pre><code>await fred.processChatMessage(\n  messages: Array&lt;{ role: string; content: string }&gt;,\n  options?: {\n    conversationId?: string;\n    useSemanticMatching?: boolean;\n    semanticThreshold?: number;\n  }\n): Promise&lt;AgentResponse | null&gt;\n</code></pre> <p>Example:</p> <pre><code>const response = await fred.processChatMessage([\n  { role: 'user', content: 'Hello!' }\n], {\n  conversationId: 'conv-123',\n});\n</code></pre>"},{"location":"api-reference/fred-class/#initializefromconfig","title":"initializeFromConfig()","text":"<p>Initialize from a config file.</p> <pre><code>await fred.initializeFromConfig(\n  configPath: string,\n  options?: {\n    toolExecutors?: Map&lt;string, Tool['execute']&gt;;\n    providers?: {\n      openai?: ProviderConfig;\n      groq?: ProviderConfig;\n    };\n  }\n): Promise&lt;void&gt;\n</code></pre> <p>Example:</p> <pre><code>await fred.initializeFromConfig('config.json', {\n  toolExecutors: new Map(),\n});\n</code></pre>"},{"location":"api-reference/fred-class/#getintents","title":"getIntents()","text":"<p>Get all registered intents.</p> <pre><code>fred.getIntents(): Intent[]\n</code></pre>"},{"location":"api-reference/fred-class/#getagents","title":"getAgents()","text":"<p>Get all agents.</p> <pre><code>fred.getAgents(): AgentInstance[]\n</code></pre>"},{"location":"api-reference/fred-class/#gettools","title":"getTools()","text":"<p>Get all tools.</p> <pre><code>fred.getTools(): Tool[]\n</code></pre>"},{"location":"api-reference/fred-class/#getcontextmanager","title":"getContextManager()","text":"<p>Get the context manager instance.</p> <pre><code>fred.getContextManager(): ContextManager\n</code></pre>"},{"location":"api-reference/fred-class/#examples","title":"Examples","text":""},{"location":"api-reference/fred-class/#basic-usage","title":"Basic Usage","text":"<pre><code>const fred = new Fred();\nawait fred.useProvider('openai', { apiKey: 'key' });\nawait fred.createAgent({ id: 'agent', /* ... */ });\nfred.setDefaultAgent('agent');\nconst response = await fred.processMessage('Hello!');\n</code></pre>"},{"location":"api-reference/fred-class/#with-config-file","title":"With Config File","text":"<pre><code>const fred = new Fred();\nawait fred.initializeFromConfig('config.json');\nconst response = await fred.processMessage('Hello!');\n</code></pre>"},{"location":"api-reference/intents/","title":"Intents API","text":"<p>API reference for intent configuration and matching.</p>"},{"location":"api-reference/intents/#intent","title":"Intent","text":"<pre><code>interface Intent {\n  id: string;                    // Unique intent identifier\n  utterances: string[];          // Phrases that trigger this intent\n  action: Action;                // Action to execute when matched\n  description?: string;          // Optional description\n}\n</code></pre>"},{"location":"api-reference/intents/#action","title":"Action","text":"<pre><code>interface Action {\n  type: 'agent' | 'function';   // Action type\n  target: string;                // Agent ID or function name\n  payload?: Record&lt;string, any&gt;; // Optional payload\n}\n</code></pre>"},{"location":"api-reference/intents/#intentmatch","title":"IntentMatch","text":"<pre><code>interface IntentMatch {\n  intent: Intent;\n  confidence: number;            // Match confidence (0-1)\n  matchedUtterance?: string;    // The utterance that matched\n  matchType: 'exact' | 'regex' | 'semantic'; // Match type\n}\n</code></pre>"},{"location":"api-reference/intents/#examples","title":"Examples","text":""},{"location":"api-reference/intents/#creating-an-intent","title":"Creating an Intent","text":"<pre><code>fred.registerIntent({\n  id: 'greeting',\n  utterances: ['hello', 'hi', 'hey'],\n  action: {\n    type: 'agent',\n    target: 'greeting-agent',\n  },\n  description: 'Handles greeting messages',\n});\n</code></pre>"},{"location":"api-reference/intents/#intent-with-payload","title":"Intent with Payload","text":"<pre><code>fred.registerIntent({\n  id: 'custom',\n  utterances: ['custom action'],\n  action: {\n    type: 'agent',\n    target: 'agent-id',\n    payload: {\n      customData: 'value',\n    },\n  },\n});\n</code></pre>"},{"location":"api-reference/intents/#multiple-intents","title":"Multiple Intents","text":"<pre><code>fred.registerIntents([\n  {\n    id: 'greeting',\n    utterances: ['hello', 'hi'],\n    action: { type: 'agent', target: 'greeting-agent' },\n  },\n  {\n    id: 'math',\n    utterances: ['calculate', 'math'],\n    action: { type: 'agent', target: 'math-agent' },\n  },\n]);\n</code></pre>"},{"location":"api-reference/intents/#getting-intents","title":"Getting Intents","text":"<pre><code>const intents = fred.getIntents();\nconsole.log(intents); // Array of all registered intents\n</code></pre>"},{"location":"api-reference/providers/","title":"Providers API","text":"<p>API reference for AI provider configuration.</p>"},{"location":"api-reference/providers/#providerconfig","title":"ProviderConfig","text":"<pre><code>interface ProviderConfig {\n  apiKey?: string;                    // API key for the provider\n  baseURL?: string;                   // Base URL for the API\n  headers?: Record&lt;string, string&gt;;    // Custom headers\n  fetch?: typeof fetch;                // Custom fetch implementation\n  [key: string]: any;                  // Additional provider-specific options\n}\n</code></pre>"},{"location":"api-reference/providers/#aiprovider","title":"AIProvider","text":"<pre><code>interface AIProvider {\n  getModel(modelId: string): LanguageModel;\n  getPlatform(): string;\n}\n</code></pre>"},{"location":"api-reference/providers/#examples","title":"Examples","text":""},{"location":"api-reference/providers/#using-a-provider","title":"Using a Provider","text":"<pre><code>const openai = await fred.useProvider('openai', {\n  apiKey: 'your-api-key',\n  baseURL: 'https://api.openai.com/v1',\n});\n</code></pre>"},{"location":"api-reference/providers/#provider-with-custom-headers","title":"Provider with Custom Headers","text":"<pre><code>const provider = await fred.useProvider('openai', {\n  apiKey: 'your-key',\n  headers: {\n    'X-Custom-Header': 'value',\n  },\n});\n</code></pre>"},{"location":"api-reference/providers/#provider-with-custom-fetch","title":"Provider with Custom Fetch","text":"<pre><code>const provider = await fred.useProvider('openai', {\n  apiKey: 'your-key',\n  fetch: customFetchImplementation,\n});\n</code></pre>"},{"location":"api-reference/providers/#multiple-providers","title":"Multiple Providers","text":"<pre><code>await fred.useProvider('openai', { apiKey: 'openai-key' });\nawait fred.useProvider('groq', { apiKey: 'groq-key' });\nawait fred.useProvider('anthropic', { apiKey: 'anthropic-key' });\n</code></pre>"},{"location":"api-reference/providers/#default-providers","title":"Default Providers","text":"<pre><code>fred.registerDefaultProviders({\n  openai: { apiKey: 'openai-key' },\n  groq: { apiKey: 'groq-key' },\n});\n</code></pre>"},{"location":"api-reference/providers/#supported-platforms","title":"Supported Platforms","text":"<p>All platforms supported by @ai-sdk:</p> <ul> <li><code>openai</code> - OpenAI</li> <li><code>anthropic</code> - Anthropic</li> <li><code>google</code> - Google</li> <li><code>groq</code> - Groq</li> <li><code>mistral</code> - Mistral</li> <li><code>cohere</code> - Cohere</li> <li><code>vercel</code> - Vercel</li> <li><code>azure-openai</code> - Azure OpenAI</li> <li><code>azure-anthropic</code> - Azure Anthropic</li> <li><code>fireworks</code> - Fireworks</li> <li><code>xai</code> - X.AI</li> <li><code>ollama</code> - Ollama</li> <li><code>ai21</code> - AI21</li> <li><code>nvidia</code> - NVIDIA</li> <li><code>bedrock</code> - Amazon Bedrock</li> <li><code>cloudflare</code> - Cloudflare</li> <li><code>elevenlabs</code> - ElevenLabs</li> <li><code>lepton</code> - Lepton</li> <li><code>perplexity</code> - Perplexity</li> <li><code>replicate</code> - Replicate</li> <li><code>together</code> - Together</li> <li><code>upstash</code> - Upstash</li> </ul>"},{"location":"api-reference/tools/","title":"Tools API","text":"<p>API reference for tool configuration and management.</p>"},{"location":"api-reference/tools/#tool","title":"Tool","text":"<pre><code>interface Tool {\n  id: string;                    // Unique tool identifier\n  name: string;                  // Tool name\n  description: string;            // Description for the AI\n  parameters: {\n    type: 'object';\n    properties: Record&lt;string, ToolParameter&gt;;\n    required?: string[];\n  };\n  execute: (args: Record&lt;string, any&gt;) =&gt; Promise&lt;any&gt; | any;\n}\n</code></pre>"},{"location":"api-reference/tools/#toolparameter","title":"ToolParameter","text":"<pre><code>interface ToolParameter {\n  type: 'string' | 'number' | 'boolean' | 'object' | 'array';\n  description: string;\n  required?: boolean;\n  enum?: (string | number)[];\n  properties?: Record&lt;string, ToolParameter&gt;; // For object types\n  items?: ToolParameter;                    // For array types\n}\n</code></pre>"},{"location":"api-reference/tools/#examples","title":"Examples","text":""},{"location":"api-reference/tools/#creating-a-tool","title":"Creating a Tool","text":"<pre><code>fred.registerTool({\n  id: 'calculator',\n  name: 'calculator',\n  description: 'Perform basic arithmetic',\n  parameters: {\n    type: 'object',\n    properties: {\n      operation: {\n        type: 'string',\n        description: 'Operation to perform',\n        enum: ['add', 'subtract', 'multiply', 'divide'],\n      },\n      a: {\n        type: 'number',\n        description: 'First number',\n      },\n      b: {\n        type: 'number',\n        description: 'Second number',\n      },\n    },\n    required: ['operation', 'a', 'b'],\n  },\n  execute: async (args) =&gt; {\n    const { operation, a, b } = args;\n    switch (operation) {\n      case 'add': return a + b;\n      case 'subtract': return a - b;\n      case 'multiply': return a * b;\n      case 'divide': return b !== 0 ? a / b : 'Error: Division by zero';\n    }\n  },\n});\n</code></pre>"},{"location":"api-reference/tools/#getting-a-tool","title":"Getting a Tool","text":"<pre><code>const tool = fred.getTool('calculator');\nif (tool) {\n  console.log(tool.description);\n}\n</code></pre>"},{"location":"api-reference/tools/#getting-all-tools","title":"Getting All Tools","text":"<pre><code>const tools = fred.getTools();\nconsole.log(tools); // Array of all registered tools\n</code></pre>"},{"location":"api-reference/tools/#tool-with-complex-parameters","title":"Tool with Complex Parameters","text":"<pre><code>fred.registerTool({\n  id: 'complex-tool',\n  name: 'complex-tool',\n  description: 'Tool with complex parameters',\n  parameters: {\n    type: 'object',\n    properties: {\n      user: {\n        type: 'object',\n        description: 'User information',\n        properties: {\n          name: { type: 'string' },\n          age: { type: 'number' },\n        },\n        required: ['name'],\n      },\n      tags: {\n        type: 'array',\n        description: 'List of tags',\n        items: { type: 'string' },\n      },\n    },\n    required: ['user'],\n  },\n  execute: async (args) =&gt; {\n    // Implementation\n  },\n});\n</code></pre>"},{"location":"examples/basic-usage/","title":"Basic Usage Example","text":"<p>A simple example showing how to get started with Fred.</p>"},{"location":"examples/basic-usage/#complete-example","title":"Complete Example","text":"<pre><code>import { Fred } from 'fred';\n\nasync function main() {\n  // Create Fred instance\n  const fred = new Fred();\n\n  // Register a provider\n  await fred.useProvider('openai', {\n    apiKey: process.env.OPENAI_API_KEY,\n  });\n\n  // Register a tool\n  fred.registerTool({\n    id: 'calculator',\n    name: 'calculator',\n    description: 'Perform basic arithmetic operations',\n    parameters: {\n      type: 'object',\n      properties: {\n        operation: {\n          type: 'string',\n          description: 'The operation to perform',\n          enum: ['add', 'subtract', 'multiply', 'divide'],\n        },\n        a: {\n          type: 'number',\n          description: 'First number',\n        },\n        b: {\n          type: 'number',\n          description: 'Second number',\n        },\n      },\n      required: ['operation', 'a', 'b'],\n    },\n    execute: async (args) =&gt; {\n      const { operation, a, b } = args;\n      switch (operation) {\n        case 'add':\n          return a + b;\n        case 'subtract':\n          return a - b;\n        case 'multiply':\n          return a * b;\n        case 'divide':\n          if (b === 0) throw new Error('Division by zero');\n          return a / b;\n      }\n    },\n  });\n\n  // Create an agent\n  await fred.createAgent({\n    id: 'math-assistant',\n    systemMessage: 'You are a helpful math assistant. Use the calculator tool when needed.',\n    platform: 'openai',\n    model: 'gpt-4',\n    tools: ['calculator'],\n  });\n\n  // Set as default agent\n  fred.setDefaultAgent('math-assistant');\n\n  // Register an intent\n  fred.registerIntent({\n    id: 'math-question',\n    utterances: ['calculate', 'compute', 'what is', 'solve'],\n    action: {\n      type: 'agent',\n      target: 'math-assistant',\n    },\n  });\n\n  // Process messages\n  console.log('Processing: \"What is 15 + 27?\"');\n  const response1 = await fred.processMessage('What is 15 + 27?');\n  console.log('Response:', response1?.content);\n\n  console.log('\\nProcessing: \"Tell me a joke\"');\n  const response2 = await fred.processMessage('Tell me a joke');\n  console.log('Response:', response2?.content);\n}\n\nmain().catch(console.error);\n</code></pre>"},{"location":"examples/basic-usage/#running-the-example","title":"Running the Example","text":"<pre><code># Set API key\nexport OPENAI_API_KEY=your_key\n\n# Run the example\nbun run examples/basic/index.ts\n</code></pre>"},{"location":"examples/basic-usage/#expected-output","title":"Expected Output","text":"<pre><code>Processing: \"What is 15 + 27?\"\nResponse: The result of 15 + 27 is 42.\n\nProcessing: \"Tell me a joke\"\nResponse: Why don't scientists trust atoms? Because they make up everything!\n</code></pre>"},{"location":"examples/basic-usage/#key-concepts","title":"Key Concepts","text":"<ol> <li>Provider: Register an AI provider (OpenAI, Groq, etc.)</li> <li>Tool: Create reusable tools for agents</li> <li>Agent: Define agents with system messages and tools</li> <li>Default Agent: Set a fallback for unmatched messages</li> <li>Intent: Route specific messages to specific agents</li> <li>Process Message: Send messages and get responses</li> </ol>"},{"location":"examples/basic-usage/#next-steps","title":"Next Steps","text":"<ul> <li>Try the Default Agent Example</li> <li>Explore Chat Tool Integration</li> <li>Learn about MCP Server Integration</li> <li>Check Server Mode</li> </ul>"},{"location":"examples/chat-tool-integration/","title":"Chat Tool Integration Example","text":"<p>Example showing how to use Fred with AI chat tools like Misty, Chatbox, etc.</p>"},{"location":"examples/chat-tool-integration/#complete-example","title":"Complete Example","text":"<pre><code>import { Fred } from 'fred';\nimport { ServerApp } from 'fred/server';\n\nasync function main() {\n  const fred = new Fred();\n\n  // Register providers\n  fred.registerDefaultProviders();\n\n  // Create a default agent\n  await fred.createAgent({\n    id: 'default-agent',\n    systemMessage: 'You are a helpful assistant.',\n    platform: 'openai',\n    model: 'gpt-3.5-turbo',\n  });\n  fred.setDefaultAgent('default-agent');\n\n  // Create specialized agents\n  await fred.createAgent({\n    id: 'math-agent',\n    systemMessage: 'You are a math expert.',\n    platform: 'openai',\n    model: 'gpt-4',\n  });\n\n  // Register intents\n  fred.registerIntent({\n    id: 'math',\n    utterances: ['calculate', 'math', 'solve'],\n    action: { type: 'agent', target: 'math-agent' },\n  });\n\n  // Start server\n  const app = new ServerApp(fred);\n  await app.start(3000);\n\n  console.log('Server running on http://localhost:3000');\n  console.log('OpenAI-compatible endpoint: POST /v1/chat/completions');\n}\n</code></pre>"},{"location":"examples/chat-tool-integration/#using-with-chat-tools","title":"Using with Chat Tools","text":""},{"location":"examples/chat-tool-integration/#misty","title":"Misty","text":"<p>Configure Misty to use: - API Endpoint: <code>http://localhost:3000/v1/chat/completions</code> - Model: <code>fred-agent</code></p>"},{"location":"examples/chat-tool-integration/#chatbox","title":"Chatbox","text":"<p>In Chatbox settings: - Custom API: <code>http://localhost:3000/v1/chat/completions</code> - Model: <code>fred-agent</code></p>"},{"location":"examples/chat-tool-integration/#curl-example","title":"curl Example","text":"<pre><code>curl -X POST http://localhost:3000/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"messages\": [\n      { \"role\": \"user\", \"content\": \"Hello!\" }\n    ]\n  }'\n</code></pre>"},{"location":"examples/default-agent/","title":"Default Agent Example","text":"<p>Example showing how to set up a default agent with intent routing.</p>"},{"location":"examples/default-agent/#complete-example","title":"Complete Example","text":"<pre><code>import { Fred } from 'fred';\n\nasync function main() {\n  const fred = new Fred();\n\n  // Register providers\n  fred.registerDefaultProviders();\n\n  // Create a default agent (handles all unmatched messages)\n  await fred.createAgent({\n    id: 'default-agent',\n    systemMessage: 'You are a helpful assistant that can answer general questions.',\n    platform: 'openai',\n    model: 'gpt-3.5-turbo',\n  });\n\n  // Set it as the default agent\n  fred.setDefaultAgent('default-agent');\n\n  // Create specialized agents\n  await fred.createAgent({\n    id: 'math-agent',\n    systemMessage: 'You are a math expert. Help users with mathematical problems.',\n    platform: 'openai',\n    model: 'gpt-4',\n  });\n\n  await fred.createAgent({\n    id: 'code-agent',\n    systemMessage: 'You are a coding assistant. Help with programming questions.',\n    platform: 'openai',\n    model: 'gpt-4',\n  });\n\n  // Register intents for specialized agents\n  fred.registerIntent({\n    id: 'math-question',\n    utterances: ['calculate', 'compute', 'what is', 'solve', 'math'],\n    action: {\n      type: 'agent',\n      target: 'math-agent',\n    },\n  });\n\n  fred.registerIntent({\n    id: 'code-question',\n    utterances: ['code', 'programming', 'function', 'variable'],\n    action: {\n      type: 'agent',\n      target: 'code-agent',\n    },\n  });\n\n  // Test messages with conversation context\n  const conversationId = 'test-conversation';\n\n  console.log('Testing intent-based routing:');\n  const mathResponse = await fred.processMessage('What is 15 + 27?', {\n    conversationId,\n  });\n  console.log('Math question:', mathResponse?.content);\n\n  console.log('\\nTesting default agent (unmatched message):');\n  const generalResponse = await fred.processMessage('Tell me a joke', {\n    conversationId,\n  });\n  console.log('General question:', generalResponse?.content);\n\n  console.log('\\nTesting context (follow-up question):');\n  const followUp = await fred.processMessage('What was the answer?', {\n    conversationId,\n  });\n  console.log('Follow-up:', followUp?.content);\n}\n\nmain().catch(console.error);\n</code></pre>"},{"location":"examples/default-agent/#message-flow","title":"Message Flow","text":"<ol> <li>Math Question \u2192 Matches <code>math-question</code> intent \u2192 Routes to <code>math-agent</code></li> <li>General Question \u2192 No match \u2192 Routes to <code>default-agent</code></li> <li>Follow-up \u2192 Uses context from previous messages \u2192 Routes to appropriate agent</li> </ol>"},{"location":"examples/default-agent/#key-features","title":"Key Features","text":"<ul> <li>Intent Routing: Specific messages route to specialized agents</li> <li>Default Fallback: Unmatched messages go to default agent</li> <li>Context Preservation: Conversation history maintained across agents</li> <li>Seamless Experience: Users see one continuous conversation</li> </ul>"},{"location":"examples/default-agent/#next-steps","title":"Next Steps","text":"<ul> <li>Try the Chat Tool Integration Example</li> <li>Learn about Context Management</li> <li>Check API Reference</li> </ul>"},{"location":"examples/mcp-server-integration/","title":"MCP Server Integration Example","text":"<p>This example demonstrates how to integrate Fred agents with MCP (Model Context Protocol) servers. We'll use the filesystem MCP server, which is a common public MCP server that provides file operations.</p>"},{"location":"examples/mcp-server-integration/#prerequisites","title":"Prerequisites","text":"<p>The filesystem MCP server can be run via <code>npx</code> (no installation needed), or you can install it globally:</p> <pre><code># Optional: Install globally\nnpm install -g @modelcontextprotocol/server-filesystem\n</code></pre>"},{"location":"examples/mcp-server-integration/#complete-example","title":"Complete Example","text":"<pre><code>import { Fred } from 'fred';\n\nasync function main() {\n  const fred = new Fred();\n\n  // Register a provider\n  await fred.useProvider('openai', {\n    apiKey: process.env.OPENAI_API_KEY,\n  });\n\n  // Create an agent with MCP server integration\n  await fred.createAgent({\n    id: 'file-assistant',\n    systemMessage: `You are a helpful file assistant. You can read and write files \nusing the tools available from the MCP server.`,\n    platform: 'openai',\n    model: 'gpt-4',\n    mcpServers: [\n      {\n        id: 'filesystem',\n        name: 'File System',\n        transport: 'stdio',\n        command: 'npx',\n        args: [\n          '-y', // Automatically accept npx prompts\n          '@modelcontextprotocol/server-filesystem',\n          process.cwd(), // Allow access to current working directory\n        ],\n      },\n    ],\n  });\n\n  // Set as default agent\n  fred.setDefaultAgent('file-assistant');\n\n  // Use the agent - MCP tools are automatically available\n  const response = await fred.processMessage('Read the package.json file');\n  console.log(response.content);\n}\n\nmain().catch(console.error);\n</code></pre>"},{"location":"examples/mcp-server-integration/#running-the-example","title":"Running the Example","text":"<pre><code># Set API key\nexport OPENAI_API_KEY=your_key\n\n# Run the example\nbun run examples/mcp-server/index.ts\n</code></pre>"},{"location":"examples/mcp-server-integration/#how-it-works","title":"How It Works","text":"<ol> <li>MCP Server Configuration: The agent is configured with an MCP server that uses stdio transport</li> <li>Automatic Tool Discovery: When the agent is created, Fred automatically:</li> <li>Connects to the MCP server</li> <li>Discovers available tools (e.g., <code>read_file</code>, <code>write_file</code>, <code>list_directory</code>)</li> <li>Converts them to AI SDK tools using <code>tool()</code> and <code>jsonSchema()</code></li> <li>Registers them in the tool registry</li> <li>Seamless Integration: The MCP tools work exactly like regular tools - the AI SDK handles tool calls automatically</li> <li>Tool Execution: When the agent calls an MCP tool, Fred executes it via the MCP protocol</li> </ol>"},{"location":"examples/mcp-server-integration/#available-tools-from-filesystem-mcp-server","title":"Available Tools from Filesystem MCP Server","text":"<p>The filesystem MCP server typically provides:</p> <ul> <li><code>read_file</code>: Read the contents of a file</li> <li><code>write_file</code>: Write content to a file</li> <li><code>list_directory</code>: List files and directories</li> <li><code>get_file_info</code>: Get file metadata</li> </ul> <p>Tool IDs are automatically prefixed: <code>mcp-filesystem-read_file</code>, <code>mcp-filesystem-write_file</code>, etc.</p>"},{"location":"examples/mcp-server-integration/#using-other-mcp-servers","title":"Using Other MCP Servers","text":"<p>You can connect to any MCP server. Here are some examples:</p>"},{"location":"examples/mcp-server-integration/#github-mcp-server","title":"GitHub MCP Server","text":"<pre><code>await fred.createAgent({\n  id: 'github-assistant',\n  systemMessage: 'You are a GitHub assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n  mcpServers: [\n    {\n      id: 'github',\n      name: 'GitHub',\n      transport: 'stdio',\n      command: 'npx',\n      args: ['-y', '@modelcontextprotocol/server-github'],\n      env: {\n        GITHUB_PERSONAL_ACCESS_TOKEN: process.env.GITHUB_TOKEN,\n      },\n    },\n  ],\n});\n</code></pre>"},{"location":"examples/mcp-server-integration/#http-based-mcp-server","title":"HTTP-Based MCP Server","text":"<pre><code>await fred.createAgent({\n  id: 'remote-assistant',\n  systemMessage: 'You are a remote assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n  mcpServers: [\n    {\n      id: 'remote-server',\n      name: 'Remote MCP Server',\n      transport: 'http',\n      url: 'https://mcp-server.example.com',\n      headers: {\n        Authorization: `Bearer ${process.env.MCP_API_KEY}`,\n      },\n      timeout: 30000,\n    },\n  ],\n});\n</code></pre>"},{"location":"examples/mcp-server-integration/#error-handling","title":"Error Handling","text":"<p>MCP server connection failures are handled gracefully:</p> <ul> <li>If an MCP server fails to connect, the agent is still created</li> <li>Errors are logged but don't prevent agent creation</li> <li>Connection retries are automatic (up to 3 attempts)</li> <li>You can disable a server by setting <code>enabled: false</code></li> </ul> <pre><code>mcpServers: [\n  {\n    id: 'optional-server',\n    transport: 'stdio',\n    command: 'npx',\n    args: ['-y', '@modelcontextprotocol/server-example'],\n    enabled: false, // Disable this server\n  },\n]\n</code></pre>"},{"location":"examples/mcp-server-integration/#best-practices","title":"Best Practices","text":"<ol> <li>Use stdio for local servers: More efficient for local MCP servers</li> <li>Use HTTP for remote servers: Better for distributed setups</li> <li>Set appropriate timeouts: Adjust based on network conditions</li> <li>Handle errors gracefully: MCP servers are optional - agents work without them</li> <li>Limit file access: Only allow access to necessary directories</li> </ol>"},{"location":"examples/mcp-server-integration/#next-steps","title":"Next Steps","text":"<ul> <li>Learn more about MCP Server Integration</li> <li>Explore Agent Configuration</li> <li>Check Configuration Guide</li> </ul>"},{"location":"examples/server-mode/","title":"Server Mode Example","text":"<p>Example showing how to run Fred as an HTTP server.</p>"},{"location":"examples/server-mode/#basic-server","title":"Basic Server","text":"<pre><code>import { Fred } from 'fred';\nimport { ServerApp } from 'fred/server';\n\nasync function main() {\n  const fred = new Fred();\n  fred.registerDefaultProviders();\n\n  await fred.createAgent({\n    id: 'agent',\n    systemMessage: 'You are helpful.',\n    platform: 'openai',\n    model: 'gpt-3.5-turbo',\n  });\n  fred.setDefaultAgent('agent');\n\n  const app = new ServerApp(fred);\n  await app.start(3000);\n}\n</code></pre>"},{"location":"examples/server-mode/#server-with-config","title":"Server with Config","text":"<pre><code>import { Fred } from 'fred';\nimport { ServerApp } from 'fred/server';\n\nasync function main() {\n  const fred = new Fred();\n  await fred.initializeFromConfig('config.json');\n\n  const app = new ServerApp(fred);\n  await app.start(3000);\n}\n</code></pre>"},{"location":"examples/server-mode/#api-endpoints","title":"API Endpoints","text":"<ul> <li><code>POST /v1/chat/completions</code> - OpenAI-compatible chat</li> <li><code>POST /chat</code> - Simplified chat</li> <li><code>POST /message</code> - Process message</li> <li><code>GET /agents</code> - List agents</li> <li><code>GET /intents</code> - List intents</li> <li><code>GET /tools</code> - List tools</li> <li><code>GET /health</code> - Health check</li> </ul>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Fred supports both programmatic configuration and config files (JSON/YAML). This guide covers both approaches.</p>"},{"location":"getting-started/configuration/#programmatic-configuration","title":"Programmatic Configuration","text":"<p>Configure Fred directly in your code:</p> <pre><code>import { Fred } from 'fred';\n\nconst fred = new Fred();\n\n// Register providers\nawait fred.useProvider('openai', { apiKey: 'your-key' });\nawait fred.useProvider('groq', { apiKey: 'your-key' });\n\n// Register tools\nfred.registerTool({ /* tool definition */ });\n\n// Create agents\nawait fred.createAgent({ /* agent config */ });\n\n// Register intents\nfred.registerIntent({ /* intent definition */ });\n</code></pre>"},{"location":"getting-started/configuration/#config-file-configuration","title":"Config File Configuration","text":"<p>Use JSON or YAML files for configuration:</p>"},{"location":"getting-started/configuration/#json-config","title":"JSON Config","text":"<p>Create <code>config.json</code>:</p> <pre><code>{\n  \"intents\": [\n    {\n      \"id\": \"greeting\",\n      \"utterances\": [\"hello\", \"hi\", \"hey\"],\n      \"action\": {\n        \"type\": \"agent\",\n        \"target\": \"greeting-agent\"\n      }\n    }\n  ],\n  \"agents\": [\n    {\n      \"id\": \"greeting-agent\",\n      \"systemMessage\": \"You are a friendly assistant.\",\n      \"platform\": \"openai\",\n      \"model\": \"gpt-3.5-turbo\"\n    }\n  ],\n  \"tools\": [\n    {\n      \"id\": \"calculator\",\n      \"name\": \"calculator\",\n      \"description\": \"Perform arithmetic\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"operation\": { \"type\": \"string\" },\n          \"a\": { \"type\": \"number\" },\n          \"b\": { \"type\": \"number\" }\n        },\n        \"required\": [\"operation\", \"a\", \"b\"]\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"getting-started/configuration/#yaml-config","title":"YAML Config","text":"<p>Create <code>config.yaml</code>:</p> <pre><code>intents:\n  - id: greeting\n    utterances:\n      - hello\n      - hi\n      - hey\n    action:\n      type: agent\n      target: greeting-agent\n\nagents:\n  - id: greeting-agent\n    systemMessage: ./prompts/greeting-agent.md  # File path or string\n    utterances:  # Optional: direct routing (takes priority over intents)\n      - hello\n      - hi\n      - hey\n    platform: openai\n    model: gpt-3.5-turbo\n    mcpServers:  # Optional: MCP servers for this agent\n      - id: filesystem\n        name: File System\n        transport: stdio\n        command: npx\n        args:\n          - -y\n          - @modelcontextprotocol/server-filesystem\n          - /allowed/path\n\ntools:\n  - id: calculator\n    name: calculator\n    description: Perform arithmetic\n    parameters:\n      type: object\n      properties:\n        operation:\n          type: string\n        a:\n          type: number\n        b:\n          type: number\n      required:\n        - operation\n        - a\n        - b\n</code></pre>"},{"location":"getting-started/configuration/#loading-config","title":"Loading Config","text":"<pre><code>import { Fred } from 'fred';\n\nconst fred = new Fred();\n\n// Provide tool executors (tools need execute functions)\nconst toolExecutors = new Map();\ntoolExecutors.set('calculator', async (args) =&gt; {\n  // Implementation\n});\n\nawait fred.initializeFromConfig('config.json', {\n  toolExecutors,\n});\n</code></pre>"},{"location":"getting-started/configuration/#config-file-locations","title":"Config File Locations","text":"<p>Fred looks for config files in this order:</p> <ol> <li><code>config.json</code></li> <li><code>fred.config.json</code></li> <li><code>config.yaml</code></li> <li><code>fred.config.yaml</code></li> </ol> <p>Or specify a custom path:</p> <pre><code>await fred.initializeFromConfig('./my-config.json');\n</code></pre>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>Set API keys via environment variables:</p> <pre><code>export OPENAI_API_KEY=your_key\nexport GROQ_API_KEY=your_key\n</code></pre> <p>Or in provider config:</p> <pre><code>await fred.useProvider('openai', { \n  apiKey: process.env.OPENAI_API_KEY \n});\n</code></pre>"},{"location":"getting-started/configuration/#default-agent-configuration","title":"Default Agent Configuration","text":"<p>Set a default agent to handle unmatched messages:</p> <pre><code>await fred.createAgent({\n  id: 'default-agent',\n  systemMessage: 'You are a helpful assistant.',\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n\nfred.setDefaultAgent('default-agent');\n</code></pre>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Agents</li> <li>Explore Intents</li> <li>Check API Reference</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Fred is built for the Bun runtime and uses the Vercel AI SDK. Follow these steps to get started.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Bun: Version 1.0 or higher (Install Bun)</li> <li>Node.js: Optional, if using npm instead of Bun</li> <li>Flox: Optional, for consistent development environments (Install Flox)</li> <li>API Keys: At least one AI provider API key (OpenAI, Groq, etc.)</li> </ul>"},{"location":"getting-started/installation/#development-environment-setup","title":"Development Environment Setup","text":""},{"location":"getting-started/installation/#using-flox-recommended-for-contributors","title":"Using Flox (Recommended for Contributors)","text":"<p>Flox provides a consistent, reproducible development environment. If you're contributing to Fred or want a standardized setup:</p> <pre><code># Activate the Flox development environment\nflox activate\n</code></pre> <p>This automatically provides: - Bun (latest version) - Essential development tools - Consistent environment across all machines</p> <p>See the Flox Integration Guide for more details.</p>"},{"location":"getting-started/installation/#manual-setup","title":"Manual Setup","text":"<p>If you prefer not to use Flox, install Bun directly from bun.sh.</p>"},{"location":"getting-started/installation/#install-fred","title":"Install Fred","text":""},{"location":"getting-started/installation/#using-create-fred-recommended","title":"Using create-fred (Recommended)","text":"<p>The easiest way to get started is using <code>create-fred</code>, which sets up a complete project with all dependencies:</p> <pre><code>bunx create-fred my-project\n</code></pre> <p>This will: - Create a new Fred project - Automatically install all dependencies - Set up the embedded <code>fred</code> CLI - Include example code and configuration</p> <p>See the Quick Start Guide for next steps.</p>"},{"location":"getting-started/installation/#manual-installation","title":"Manual Installation","text":"<p>If you prefer to install Fred in an existing project:</p>"},{"location":"getting-started/installation/#using-bun","title":"Using Bun","text":"<pre><code>bun add fred\n</code></pre>"},{"location":"getting-started/installation/#using-npm","title":"Using npm","text":"<pre><code>npm install fred\n</code></pre>"},{"location":"getting-started/installation/#using-yarn","title":"Using yarn","text":"<pre><code>yarn add fred\n</code></pre>"},{"location":"getting-started/installation/#install-provider-packages","title":"Install Provider Packages","text":"<p>Fred supports all @ai-sdk providers. Install the ones you need:</p>"},{"location":"getting-started/installation/#using-the-embedded-cli-recommended","title":"Using the Embedded CLI (Recommended)","text":"<p>If you created your project with <code>create-fred</code>, use the embedded CLI:</p> <pre><code>fred provider add openai\nfred provider add groq\nfred provider add anthropic\n</code></pre> <p>This automatically installs the package and updates your configuration.</p>"},{"location":"getting-started/installation/#manual-installation_1","title":"Manual Installation","text":"<pre><code># OpenAI\nbun add @ai-sdk/openai\n\n# Groq\nbun add @ai-sdk/groq\n\n# Anthropic\nbun add @ai-sdk/anthropic\n\n# Google\nbun add @ai-sdk/google\n\n# Or install multiple at once\nbun add @ai-sdk/openai @ai-sdk/groq @ai-sdk/anthropic\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>Create a simple test file to verify everything works:</p> <pre><code>import { Fred } from 'fred';\n\nconst fred = new Fred();\nconsole.log('Fred installed successfully!');\n</code></pre> <p>Run it:</p> <pre><code>bun run test.ts\n</code></pre>"},{"location":"getting-started/installation/#environment-variables","title":"Environment Variables","text":"<p>Set your API keys as environment variables:</p> <pre><code>export OPENAI_API_KEY=your_openai_key\nexport GROQ_API_KEY=your_groq_key\nexport ANTHROPIC_API_KEY=your_anthropic_key\n</code></pre> <p>Or create a <code>.env</code> file:</p> <pre><code>OPENAI_API_KEY=your_openai_key\nGROQ_API_KEY=your_groq_key\nANTHROPIC_API_KEY=your_anthropic_key\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Read the Quick Start Guide</li> <li>Learn about Configuration</li> <li>Use the Embedded CLI to manage your project</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get up and running with Fred in minutes. This guide will walk you through creating your first agent and processing messages.</p>"},{"location":"getting-started/quick-start/#basic-setup","title":"Basic Setup","text":"<pre><code>import { Fred } from 'fred';\n\n// Create a Fred instance\nconst fred = new Fred();\n\n// Register a provider\nawait fred.useProvider('openai', { \n  apiKey: process.env.OPENAI_API_KEY \n});\n\n// Create an agent (systemMessage can be a string or file path)\nawait fred.createAgent({\n  id: 'assistant',\n  systemMessage: 'You are a helpful assistant.', // or './prompts/assistant.md'\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n\n// Set as default agent (handles all messages)\nfred.setDefaultAgent('assistant');\n\n// Process a message\nconst response = await fred.processMessage('Hello!');\nconsole.log(response.content);\n</code></pre>"},{"location":"getting-started/quick-start/#with-intent-routing","title":"With Intent Routing","text":"<pre><code>import { Fred } from 'fred';\n\nconst fred = new Fred();\nawait fred.useProvider('openai', { apiKey: process.env.OPENAI_API_KEY });\n\n// Create multiple agents\nawait fred.createAgent({\n  id: 'math-agent',\n  systemMessage: 'You are a math expert.', // or './prompts/math-agent.md'\n  utterances: ['calculate', 'math', 'compute'], // Optional: direct routing\n  platform: 'openai',\n  model: 'gpt-4',\n});\n\nawait fred.createAgent({\n  id: 'default-agent',\n  systemMessage: 'You are a helpful assistant.',\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n\n// Set default agent\nfred.setDefaultAgent('default-agent');\n\n// Register intent for math questions\nfred.registerIntent({\n  id: 'math-question',\n  utterances: ['calculate', 'compute', 'what is', 'solve'],\n  action: {\n    type: 'agent',\n    target: 'math-agent',\n  },\n});\n\n// Process messages\nconst mathResponse = await fred.processMessage('What is 15 + 27?');\n// Routes to math-agent\n\nconst generalResponse = await fred.processMessage('Tell me a joke');\n// Routes to default-agent\n</code></pre>"},{"location":"getting-started/quick-start/#with-tools","title":"With Tools","text":"<pre><code>import { Fred } from 'fred';\n\nconst fred = new Fred();\nawait fred.useProvider('openai', { apiKey: process.env.OPENAI_API_KEY });\n\n// Register a tool\nfred.registerTool({\n  id: 'calculator',\n  name: 'calculator',\n  description: 'Perform basic arithmetic',\n  parameters: {\n    type: 'object',\n    properties: {\n      operation: { type: 'string', enum: ['add', 'subtract', 'multiply', 'divide'] },\n      a: { type: 'number' },\n      b: { type: 'number' },\n    },\n    required: ['operation', 'a', 'b'],\n  },\n  execute: async (args) =&gt; {\n    const { operation, a, b } = args;\n    switch (operation) {\n      case 'add': return a + b;\n      case 'subtract': return a - b;\n      case 'multiply': return a * b;\n      case 'divide': return a / b;\n    }\n  },\n});\n\n// Create agent with tool\nawait fred.createAgent({\n  id: 'math-agent',\n  systemMessage: 'You are a math assistant. Use the calculator tool.',\n  platform: 'openai',\n  model: 'gpt-4',\n  tools: ['calculator'],\n});\n\nfred.setDefaultAgent('math-agent');\n\n// Agent can now use the calculator tool\nconst response = await fred.processMessage('What is 123 * 456?');\n</code></pre>"},{"location":"getting-started/quick-start/#with-context","title":"With Context","text":"<pre><code>import { Fred } from 'fred';\n\nconst fred = new Fred();\nawait fred.useProvider('openai', { apiKey: process.env.OPENAI_API_KEY });\n\nawait fred.createAgent({\n  id: 'assistant',\n  systemMessage: 'You are a helpful assistant.',\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n\nfred.setDefaultAgent('assistant');\n\n// Use conversation ID to maintain context\nconst conversationId = 'my-conversation';\n\nconst response1 = await fred.processMessage('My name is Alice', { conversationId });\nconst response2 = await fred.processMessage('What is my name?', { conversationId });\n// Agent remembers: \"Your name is Alice\"\n</code></pre>"},{"location":"getting-started/quick-start/#using-the-embedded-cli","title":"Using the Embedded CLI","text":"<p>Projects created with <code>create-fred</code> include a built-in CLI for managing your project:</p> <pre><code># Add a new provider\nfred provider add groq\n\n# Create a new agent\nfred agent create\n\n# Create a new tool\nfred tool create\n\n# List installed providers\nfred provider list\n</code></pre> <p>See the CLI Guide for complete documentation.</p>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Agents</li> <li>Explore Intents</li> <li>Use the Embedded CLI to manage your project</li> <li>Check out Examples</li> </ul>"},{"location":"guides/agents/","title":"Agents","text":"<p>Agents are the core of Fred. They represent AI assistants with specific behaviors, capabilities, and tools.</p>"},{"location":"guides/agents/#creating-agents","title":"Creating Agents","text":""},{"location":"guides/agents/#basic-agent","title":"Basic Agent","text":"<pre><code>await fred.createAgent({\n  id: 'my-agent',\n  systemMessage: 'You are a helpful assistant.',\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n</code></pre>"},{"location":"guides/agents/#agent-with-tools","title":"Agent with Tools","text":"<pre><code>// Register tools first\nfred.registerTool({\n  id: 'calculator',\n  name: 'calculator',\n  description: 'Perform arithmetic',\n  parameters: { /* ... */ },\n  execute: async (args) =&gt; { /* ... */ },\n});\n\n// Create agent with tools\nawait fred.createAgent({\n  id: 'math-agent',\n  systemMessage: 'You are a math assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n  tools: ['calculator'], // Reference tool IDs\n});\n</code></pre>"},{"location":"guides/agents/#agent-configuration-options","title":"Agent Configuration Options","text":"<pre><code>await fred.createAgent({\n  id: 'custom-agent',\n  systemMessage: 'You are a creative writer.',\n  platform: 'openai',\n  model: 'gpt-4',\n  tools: ['tool1', 'tool2'],\n  utterances: ['write', 'story', 'creative'], // Optional: direct routing\n  temperature: 0.8,      // Creativity level (0-1)\n  maxTokens: 2000,       // Maximum response length\n});\n</code></pre>"},{"location":"guides/agents/#agent-level-utterances","title":"Agent-Level Utterances","text":"<p>Agents can define utterances directly for automatic routing (bypasses intent matching):</p> <pre><code>await fred.createAgent({\n  id: 'math-agent',\n  systemMessage: 'You are a math assistant.',\n  utterances: ['calculate', 'math', 'compute', 'solve'], // Direct routing\n  platform: 'openai',\n  model: 'gpt-4',\n});\n\n// Messages matching these utterances route directly to math-agent\n// (takes priority over intent-based routing)\n</code></pre> <p>Routing priority: Agent utterances \u2192 Intents \u2192 Default agent</p>"},{"location":"guides/agents/#system-messages","title":"System Messages","text":"<p>System messages define the agent's personality and behavior. You can use either string content or file paths to markdown files:</p> <pre><code>// String content\nsystemMessage: 'You are a friendly and helpful assistant.'\n\n// Markdown file path (relative to config file or current working directory)\nsystemMessage: './prompts/my-agent.md'\n\n// Expert in a domain\nsystemMessage: 'You are an expert software engineer specializing in TypeScript and AI.'\n\n// Specific role\nsystemMessage: 'You are a customer support agent. Be professional and empathetic.'\n</code></pre>"},{"location":"guides/agents/#markdown-system-prompts","title":"Markdown System Prompts","text":"<p>Store complex system prompts in markdown files for better organization:</p> <p>prompts/math-agent.md: <pre><code># Math Assistant\n\nYou are an expert mathematics assistant. Your role is to:\n\n- Help users solve mathematical problems\n- Explain mathematical concepts clearly\n- Use the calculator tool when needed for computations\n\n## Guidelines\n\n- Always show your work\n- Explain steps clearly\n- Double-check calculations\n</code></pre></p> <p>config.yaml: <pre><code>agents:\n  - id: math-agent\n    systemMessage: ./prompts/math-agent.md\n    platform: openai\n    model: gpt-4\n</code></pre></p> <p>The system automatically loads markdown files when a file path is detected (starts with <code>./</code>, <code>/</code>, or ends with <code>.md</code>/<code>.markdown</code>).</p>"},{"location":"guides/agents/#platform-and-model-selection","title":"Platform and Model Selection","text":""},{"location":"guides/agents/#openai","title":"OpenAI","text":"<pre><code>await fred.useProvider('openai', { apiKey: 'your-key' });\n\nawait fred.createAgent({\n  platform: 'openai',\n  model: 'gpt-4',           // or 'gpt-3.5-turbo', 'gpt-4-turbo', etc.\n});\n</code></pre>"},{"location":"guides/agents/#groq","title":"Groq","text":"<pre><code>await fred.useProvider('groq', { apiKey: 'your-key' });\n\nawait fred.createAgent({\n  platform: 'groq',\n  model: 'llama-3.1-70b-versatile',  // or 'llama-3.1-8b-instant', 'mixtral-8x7b-32768'\n});\n</code></pre>"},{"location":"guides/agents/#anthropic","title":"Anthropic","text":"<pre><code>await fred.useProvider('anthropic', { apiKey: 'your-key' });\n\nawait fred.createAgent({\n  platform: 'anthropic',\n  model: 'claude-3-opus-20240229',  // or other Claude models\n});\n</code></pre>"},{"location":"guides/agents/#using-agents","title":"Using Agents","text":""},{"location":"guides/agents/#direct-agent-access","title":"Direct Agent Access","text":"<pre><code>const agent = fred.getAgent('my-agent');\nif (agent) {\n  const response = await agent.processMessage('Hello!');\n}\n</code></pre>"},{"location":"guides/agents/#through-intent-routing","title":"Through Intent Routing","text":"<pre><code>fred.registerIntent({\n  id: 'math',\n  utterances: ['calculate', 'math'],\n  action: {\n    type: 'agent',\n    target: 'math-agent',  // Routes to this agent\n  },\n});\n\nconst response = await fred.processMessage('Calculate 5 + 3');\n// Automatically routes to math-agent\n</code></pre>"},{"location":"guides/agents/#as-default-agent","title":"As Default Agent","text":"<pre><code>await fred.createAgent({\n  id: 'default-agent',\n  systemMessage: 'You are a helpful assistant.',\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n\nfred.setDefaultAgent('default-agent');\n\n// All unmatched messages go to default-agent\nconst response = await fred.processMessage('Hello!');\n</code></pre>"},{"location":"guides/agents/#agent-response","title":"Agent Response","text":"<p>Agents return responses with content and optional tool calls:</p> <pre><code>const response = await agent.processMessage('Calculate 10 * 5');\n\nconsole.log(response.content);  // \"The result is 50\"\nconsole.log(response.toolCalls); // Array of tool calls if any\n</code></pre>"},{"location":"guides/agents/#dynamic-agent-handoff","title":"Dynamic Agent Handoff","text":"<p>Agents can transfer conversations to other agents using the built-in <code>handoff_to_agent</code> tool. This tool is automatically available to all agents:</p> <pre><code>// Agent A can hand off to Agent B\n// The handoff tool is called automatically when an agent decides to transfer\n// The system processes handoffs recursively (with max depth protection)\n</code></pre> <p>The handoff tool accepts: - <code>agentId</code> (required): The ID of the target agent - <code>message</code> (optional): Custom message for the target agent - <code>context</code> (optional): Additional context to pass along</p> <p>Handoffs are processed automatically in the message pipeline, allowing for seamless multi-agent conversations.</p>"},{"location":"guides/agents/#mcp-server-integration","title":"MCP Server Integration","text":"<p>Agents can connect to MCP (Model Context Protocol) servers to automatically discover and use tools, resources, and prompts from external MCP servers. MCP tools are seamlessly integrated with the AI SDK and work just like regular tools.</p>"},{"location":"guides/agents/#configuring-mcp-servers","title":"Configuring MCP Servers","text":""},{"location":"guides/agents/#stdio-transport-local-servers","title":"stdio Transport (Local Servers)","text":"<p>Connect to local MCP servers running as subprocesses:</p> <pre><code>await fred.createAgent({\n  id: 'code-agent',\n  systemMessage: 'You are a coding assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n  mcpServers: [\n    {\n      id: 'filesystem',\n      name: 'File System',\n      transport: 'stdio',\n      command: 'npx',\n      args: ['-y', '@modelcontextprotocol/server-filesystem', '/allowed/path'],\n      env: {\n        // Optional environment variables\n      },\n    },\n  ],\n});\n</code></pre>"},{"location":"guides/agents/#httpsse-transport-remote-servers","title":"HTTP/SSE Transport (Remote Servers)","text":"<p>Connect to remote MCP servers via HTTP:</p> <pre><code>await fred.createAgent({\n  id: 'github-agent',\n  systemMessage: 'You are a GitHub assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n  mcpServers: [\n    {\n      id: 'github',\n      name: 'GitHub',\n      transport: 'http',\n      url: 'https://mcp-server.example.com',\n      headers: {\n        Authorization: `Bearer ${process.env.GITHUB_TOKEN}`,\n      },\n      timeout: 30000, // Optional timeout in ms\n    },\n  ],\n});\n</code></pre>"},{"location":"guides/agents/#mcp-tools","title":"MCP Tools","text":"<p>MCP tools are automatically discovered and made available to the agent. They work seamlessly with the AI SDK's tool calling system:</p> <ul> <li>Tools are discovered when the agent is created</li> <li>Tool IDs are prefixed with <code>mcp-{serverId}-{toolName}</code> to avoid conflicts</li> <li>Tools are registered in the tool registry and can be referenced by ID</li> <li>AI SDK's <code>generateText</code> automatically handles MCP tool calls</li> </ul>"},{"location":"guides/agents/#mcp-configuration-options","title":"MCP Configuration Options","text":"<pre><code>interface MCPServerConfig {\n  id: string;                    // Unique identifier\n  name?: string;                 // Optional display name\n  transport: 'stdio' | 'http' | 'sse';\n\n  // For stdio transport\n  command?: string;              // Command to run\n  args?: string[];               // Command arguments\n  env?: Record&lt;string, string&gt;;  // Environment variables\n\n  // For HTTP/SSE transport\n  url?: string;                  // Server URL\n  headers?: Record&lt;string, string&gt;; // Optional headers\n\n  // Optional configuration\n  enabled?: boolean;             // Enable/disable (default: true)\n  timeout?: number;              // Connection timeout in ms (default: 30000)\n}\n</code></pre>"},{"location":"guides/agents/#error-handling","title":"Error Handling","text":"<p>MCP server connection failures are handled gracefully: - If an MCP server fails to connect, the agent is still created - Errors are logged but don't prevent agent creation - Connection retries are automatic (up to 3 attempts with exponential backoff) - Timeouts are configurable per server</p>"},{"location":"guides/agents/#best-practices","title":"Best Practices","text":"<ol> <li>Use stdio for local servers: More efficient for local MCP servers</li> <li>Use HTTP for remote servers: Better for distributed setups</li> <li>Set appropriate timeouts: Adjust based on network conditions</li> <li>Handle errors gracefully: MCP servers are optional - agents work without them</li> <li>Prefix tool IDs: MCP tools are automatically prefixed to avoid conflicts</li> </ol>"},{"location":"guides/agents/#best-practices_1","title":"Best Practices","text":"<ol> <li>Clear System Messages: Be specific about the agent's role and behavior</li> <li>Appropriate Models: Use faster/cheaper models for simple tasks, powerful models for complex ones</li> <li>Tool Assignment: Only assign relevant tools to agents</li> <li>Default Agent: Always set a default agent to handle unmatched messages</li> <li>Temperature: Adjust based on need (lower for factual, higher for creative)</li> </ol>"},{"location":"guides/agents/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Intents</li> <li>Explore Tools</li> <li>Check Default Agent</li> <li>See MCP Server Integration Example</li> </ul>"},{"location":"guides/chat-api/","title":"Chat API","text":"<p>Fred provides an OpenAI-compatible chat API that works with standard AI chat tools like Misty, Chatbox, and other OpenAI-compatible applications.</p>"},{"location":"guides/chat-api/#endpoints","title":"Endpoints","text":""},{"location":"guides/chat-api/#post-v1chatcompletions","title":"POST /v1/chat/completions","text":"<p>OpenAI-compatible endpoint for chat completions.</p> <p>Request:</p> <pre><code>{\n  \"messages\": [\n    { \"role\": \"user\", \"content\": \"Hello!\" }\n  ],\n  \"conversation_id\": \"optional-conversation-id\",\n  \"stream\": false\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\": \"chatcmpl-123\",\n  \"object\": \"chat.completion\",\n  \"created\": 1677652288,\n  \"model\": \"fred-agent\",\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\": \"assistant\",\n        \"content\": \"Hello! How can I help you?\"\n      },\n      \"finish_reason\": \"stop\"\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/chat-api/#post-chat","title":"POST /chat","text":"<p>Simplified chat endpoint.</p> <p>Request:</p> <pre><code>{\n  \"message\": \"Hello!\",\n  \"conversation_id\": \"optional-conversation-id\"\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\": \"chatcmpl-123\",\n  \"object\": \"chat.completion\",\n  \"created\": 1677652288,\n  \"model\": \"fred-agent\",\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n        \"role\": \"assistant\",\n        \"content\": \"Hello! How can I help you?\"\n      },\n      \"finish_reason\": \"stop\"\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/chat-api/#streaming","title":"Streaming","text":"<p>Enable streaming for real-time responses:</p> <pre><code>{\n  \"messages\": [\n    { \"role\": \"user\", \"content\": \"Tell me a story\" }\n  ],\n  \"stream\": true\n}\n</code></pre> <p>Response is sent as Server-Sent Events (SSE):</p> <pre><code>data: {\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",...}\ndata: {\"id\":\"chatcmpl-123\",\"object\":\"chat.completion.chunk\",...}\n</code></pre>"},{"location":"guides/chat-api/#using-with-chat-tools","title":"Using with Chat Tools","text":""},{"location":"guides/chat-api/#misty","title":"Misty","text":"<p>Configure Misty to use Fred's endpoint:</p> <pre><code>API Endpoint: http://localhost:3000/v1/chat/completions\nAPI Key: (not required, but can be configured)\n</code></pre>"},{"location":"guides/chat-api/#chatbox","title":"Chatbox","text":"<p>In Chatbox settings:</p> <pre><code>Custom API: http://localhost:3000/v1/chat/completions\nModel: fred-agent\n</code></pre>"},{"location":"guides/chat-api/#curl-example","title":"curl Example","text":"<pre><code>curl -X POST http://localhost:3000/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"messages\": [\n      { \"role\": \"user\", \"content\": \"Hello!\" }\n    ]\n  }'\n</code></pre>"},{"location":"guides/chat-api/#conversation-context","title":"Conversation Context","text":"<p>Maintain context across requests:</p> <pre><code># First message\ncurl -X POST http://localhost:3000/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"messages\": [\n      { \"role\": \"user\", \"content\": \"My name is Alice\" }\n    ],\n    \"conversation_id\": \"conv-123\"\n  }'\n\n# Follow-up message\ncurl -X POST http://localhost:3000/v1/chat/completions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"messages\": [\n      { \"role\": \"user\", \"content\": \"What is my name?\" }\n    ],\n    \"conversation_id\": \"conv-123\"\n  }'\n</code></pre>"},{"location":"guides/chat-api/#message-format","title":"Message Format","text":"<p>Messages follow OpenAI's format:</p> <pre><code>interface ChatMessage {\n  role: 'system' | 'user' | 'assistant' | 'tool';\n  content: string | null;\n  name?: string;\n  tool_calls?: Array&lt;{\n    id: string;\n    type: 'function';\n    function: {\n      name: string;\n      arguments: string;\n    };\n  }&gt;;\n  tool_call_id?: string;\n}\n</code></pre>"},{"location":"guides/chat-api/#intent-routing","title":"Intent Routing","text":"<p>The chat API automatically routes messages based on intents:</p> <pre><code>// Setup\nfred.registerIntent({\n  id: 'math',\n  utterances: ['calculate', 'math'],\n  action: { type: 'agent', target: 'math-agent' },\n});\n\n// Chat request\n{\n  \"messages\": [\n    { \"role\": \"user\", \"content\": \"Calculate 5 + 3\" }\n  ]\n}\n// Automatically routes to math-agent\n</code></pre>"},{"location":"guides/chat-api/#error-handling","title":"Error Handling","text":"<p>The API returns standard error responses:</p> <pre><code>{\n  \"error\": {\n    \"message\": \"No default agent configured\",\n    \"type\": \"invalid_request_error\"\n  }\n}\n</code></pre>"},{"location":"guides/chat-api/#cors","title":"CORS","text":"<p>CORS is enabled by default for chat tools. For production, configure allowed origins:</p> <pre><code>// In server configuration\nconst app = new ServerApp(fred);\n// CORS headers are automatically added\n</code></pre>"},{"location":"guides/chat-api/#examples","title":"Examples","text":""},{"location":"guides/chat-api/#javascript-client","title":"JavaScript Client","text":"<pre><code>async function chat(message, conversationId) {\n  const response = await fetch('http://localhost:3000/v1/chat/completions', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      messages: [{ role: 'user', content: message }],\n      conversation_id: conversationId,\n    }),\n  });\n\n  const data = await response.json();\n  return data.choices[0].message.content;\n}\n</code></pre>"},{"location":"guides/chat-api/#python-client","title":"Python Client","text":"<pre><code>import requests\n\ndef chat(message, conversation_id=None):\n    response = requests.post(\n        'http://localhost:3000/v1/chat/completions',\n        json={\n            'messages': [{'role': 'user', 'content': message}],\n            'conversation_id': conversation_id,\n        }\n    )\n    return response.json()['choices'][0]['message']['content']\n</code></pre>"},{"location":"guides/chat-api/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Context Management</li> <li>Explore Server Mode</li> <li>Check API Reference</li> </ul>"},{"location":"guides/cli/","title":"Embedded CLI Commands","text":"<p>Fred projects include a built-in CLI tool that helps you manage your project without installing additional packages. The CLI is available immediately after creating a project with <code>create-fred</code>.</p>"},{"location":"guides/cli/#overview","title":"Overview","text":"<p>The <code>fred</code> CLI provides commands for: - Managing AI SDK providers - Creating new agents - Creating new tools</p> <p>All commands work within your project directory and modify your project files automatically.</p>"},{"location":"guides/cli/#provider-management","title":"Provider Management","text":""},{"location":"guides/cli/#add-a-provider","title":"Add a Provider","text":"<p>Install an AI SDK provider package and update your project configuration:</p> <pre><code>fred provider add &lt;provider&gt;\n</code></pre> <p>Example: <pre><code>fred provider add groq\nfred provider add anthropic\n</code></pre></p> <p>This will: - Install the <code>@ai-sdk/&lt;provider&gt;</code> package - Update <code>.env.example</code> with a placeholder API key variable (e.g., <code>OPENAI_API_KEY=your_openai_api_key_here</code>) - Provide instructions for using the provider in your code</p> <p>Note: The CLI writes placeholder values to <code>.env.example</code>, not actual API keys. Real API keys should only be in <code>.env</code> (which is gitignored).</p> <p>Supported Providers: - <code>openai</code> - OpenAI - <code>groq</code> - Groq - <code>anthropic</code> - Anthropic - <code>google</code> - Google - <code>mistral</code> - Mistral - <code>cohere</code> - Cohere - <code>vercel</code> - Vercel AI - <code>azure-openai</code> - Azure OpenAI - <code>azure-anthropic</code> - Azure Anthropic - <code>fireworks</code> - Fireworks - <code>xai</code> - X.AI - <code>ollama</code> - Ollama - <code>ai21</code> - AI21 - <code>nvidia</code> - NVIDIA - <code>bedrock</code> - Amazon Bedrock - <code>cloudflare</code> - Cloudflare - <code>elevenlabs</code> - ElevenLabs - <code>lepton</code> - Lepton - <code>perplexity</code> - Perplexity - <code>replicate</code> - Replicate - <code>together</code> - Together AI - <code>upstash</code> - Upstash</p>"},{"location":"guides/cli/#remove-a-provider","title":"Remove a Provider","text":"<p>Remove a provider package and clean up configuration:</p> <pre><code>fred provider remove &lt;provider&gt;\n</code></pre> <p>Example: <pre><code>fred provider remove openai\n</code></pre></p> <p>This will: - Uninstall the <code>@ai-sdk/&lt;provider&gt;</code> package - Remove the API key variable from <code>.env.example</code> - Warn if any agents are using the provider</p>"},{"location":"guides/cli/#list-providers","title":"List Providers","text":"<p>View all installed AI SDK providers:</p> <pre><code>fred provider list\n</code></pre>"},{"location":"guides/cli/#agent-creation","title":"Agent Creation","text":"<p>Create a new agent interactively:</p> <pre><code>fred agent create\n</code></pre> <p>The CLI will prompt you for: - Agent ID: Unique identifier (kebab-case, e.g., <code>math-assistant</code>) - System Message: What the agent should do - Platform: Select from installed providers - Model: Model name (default suggested based on platform) - Temperature: Optional temperature setting (default: 0.7) - Tools: Multi-select from existing tools (optional)</p> <p>Example: <pre><code>$ fred agent create\n\n\ud83e\udd16 Create a new agent\n\nAgent ID (kebab-case, e.g., math-assistant): coding-assistant\nSystem message (what should this agent do?): You are a helpful coding assistant.\nSelect platform:\n  1. openai\n  2. groq\nSelect (1-2): 1\nModel name (default: gpt-3.5-turbo): gpt-4\nTemperature (0.0-2.0) (default: 0.7): 0.3\nWould you like to assign tools to this agent? (y/N): n\n\n\u2705 Successfully created agent: coding-assistant\n\nFile created: src/agents/coding-assistant.ts\nThe agent has been added to src/index.ts.\n</code></pre></p> <p>The generated agent file will be in <code>src/agents/&lt;agent-id&gt;.ts</code> and automatically imported into <code>src/index.ts</code>.</p>"},{"location":"guides/cli/#tool-creation","title":"Tool Creation","text":"<p>Create a new tool interactively:</p> <pre><code>fred tool create\n</code></pre> <p>The CLI will prompt you for: - Tool ID: Unique identifier (kebab-case, e.g., <code>weather-api</code>) - Tool Name: Display name - Description: What the tool does - Parameters: Whether the tool needs parameters (JSON schema can be customized later)</p> <p>Example: <pre><code>$ fred tool create\n\n\ud83d\udee0\ufe0f  Create a new tool\n\nTool ID (kebab-case, e.g., calculator): weather-api\nTool name (display name): Weather API\nTool description (what does this tool do?): Get current weather for a location\nTool parameters (JSON schema):\nDoes this tool need parameters? (Y/n): y\n\n\u2705 Successfully created tool: weather-api\n\nFile created: src/tools/weather-api.ts\nThe tool has been added to src/index.ts.\n\nNext steps:\n1. Edit src/tools/weather-api.ts to implement the execute function\n2. Customize the parameters schema if needed\n</code></pre></p> <p>The generated tool file will be in <code>src/tools/&lt;tool-id&gt;.ts</code> and automatically imported into <code>src/index.ts</code>.</p>"},{"location":"guides/cli/#help","title":"Help","text":"<p>Get help for all available commands:</p> <pre><code>fred help\n</code></pre> <p>Or use <code>--help</code> with any command:</p> <pre><code>fred provider --help\nfred agent --help\nfred tool --help\n</code></pre>"},{"location":"guides/cli/#how-it-works","title":"How It Works","text":"<p>The embedded CLI: - No additional dependencies: Uses only Bun's built-in capabilities - Automatic file updates: Modifies <code>src/index.ts</code>, <code>package.json</code>, and <code>.env.example</code> as needed - Safe operations: Validates inputs and checks for existing files before creating - Interactive prompts: Guides you through complex operations like agent/tool creation</p>"},{"location":"guides/cli/#tips","title":"Tips","text":"<ol> <li> <p>Provider Management: Use <code>fred provider add</code> to quickly add new AI providers without manually editing <code>package.json</code></p> </li> <li> <p>Agent Scaffolding: Use <code>fred agent create</code> to quickly scaffold new agents with proper TypeScript types and imports</p> </li> <li> <p>Tool Development: Use <code>fred tool create</code> to generate tool boilerplate, then customize the <code>execute</code> function</p> </li> <li> <p>Project Structure: The CLI maintains a clean project structure by creating separate files for each agent and tool</p> </li> </ol>"},{"location":"guides/cli/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/cli/#command-not-found","title":"Command not found","text":"<p>If <code>fred</code> command is not found, make sure: - You're in your project directory - Dependencies were installed (<code>bun install</code> if you used <code>--no-install</code>) - The <code>bin</code> entry in <code>package.json</code> points to <code>./src/cli.ts</code></p>"},{"location":"guides/cli/#file-modification-errors","title":"File modification errors","text":"<p>If the CLI can't modify files: - Ensure you have write permissions - Check that <code>src/index.ts</code> exists and has the expected structure - Verify the project is a valid Fred project (has <code>fred</code> in dependencies)</p>"},{"location":"guides/cli/#provider-installation-fails","title":"Provider installation fails","text":"<p>If <code>fred provider add</code> fails: - Check your internet connection - Verify the provider name is correct - Ensure Bun is properly installed and in your PATH</p>"},{"location":"guides/context-management/","title":"Context Management","text":"<p>Fred maintains conversation context across all agents, making multi-agent conversations seamless. Users see one continuous conversation even when messages are routed to different agents.</p>"},{"location":"guides/context-management/#how-context-works","title":"How Context Works","text":""},{"location":"guides/context-management/#global-context","title":"Global Context","text":"<p>Context is shared across all agents in a conversation:</p> <pre><code>const conversationId = 'my-conversation';\n\n// First message\nconst response1 = await fred.processMessage('My name is Alice', { \n  conversationId \n});\n\n// Second message - context is maintained\nconst response2 = await fred.processMessage('What is my name?', { \n  conversationId \n});\n// Agent remembers: \"Your name is Alice\"\n</code></pre>"},{"location":"guides/context-management/#multi-agent-context","title":"Multi-Agent Context","text":"<p>Context persists even when routing to different agents:</p> <pre><code>const conversationId = 'conv-123';\n\n// Message routed to math-agent\nawait fred.processMessage('Calculate 5 + 3', { conversationId });\n\n// Message routed to default-agent\nawait fred.processMessage('What was the previous calculation?', { conversationId });\n// Default agent can see the previous math conversation\n</code></pre>"},{"location":"guides/context-management/#conversation-ids","title":"Conversation IDs","text":""},{"location":"guides/context-management/#auto-generated-ids","title":"Auto-Generated IDs","text":"<p>If you don't provide a conversation ID, Fred generates one:</p> <pre><code>const response = await fred.processMessage('Hello!');\n// Conversation ID is auto-generated and maintained\n</code></pre>"},{"location":"guides/context-management/#custom-conversation-ids","title":"Custom Conversation IDs","text":"<p>Use custom IDs for better control:</p> <pre><code>const conversationId = `user-${userId}-session-${sessionId}`;\n\nawait fred.processMessage('Hello!', { conversationId });\nawait fred.processMessage('How are you?', { conversationId });\n</code></pre>"},{"location":"guides/context-management/#getting-conversation-id","title":"Getting Conversation ID","text":"<pre><code>const contextManager = fred.getContextManager();\nconst conversationId = contextManager.generateConversationId();\n</code></pre>"},{"location":"guides/context-management/#context-manager-api","title":"Context Manager API","text":""},{"location":"guides/context-management/#get-conversation-history","title":"Get Conversation History","text":"<pre><code>const contextManager = fred.getContextManager();\nconst history = await contextManager.getHistory(conversationId);\n\nconsole.log(history); // Array of CoreMessage objects\n</code></pre>"},{"location":"guides/context-management/#clear-context","title":"Clear Context","text":"<pre><code>const contextManager = fred.getContextManager();\nawait contextManager.clearContext(conversationId);\n</code></pre>"},{"location":"guides/context-management/#update-metadata","title":"Update Metadata","text":"<pre><code>const contextManager = fred.getContextManager();\nawait contextManager.updateMetadata(conversationId, {\n  userId: 'user123',\n  sessionStart: new Date(),\n});\n</code></pre>"},{"location":"guides/context-management/#message-format","title":"Message Format","text":"<p>Fred uses AI SDK's <code>CoreMessage</code> format internally:</p> <pre><code>interface CoreMessage {\n  role: 'user' | 'assistant' | 'system' | 'tool';\n  content: string | Array&lt;{ type: string; text: string }&gt;;\n}\n</code></pre>"},{"location":"guides/context-management/#context-in-chat-api","title":"Context in Chat API","text":"<p>The chat API automatically manages context:</p> <pre><code>// POST /v1/chat/completions\n{\n  \"messages\": [\n    { \"role\": \"user\", \"content\": \"Hello!\" }\n  ],\n  \"conversation_id\": \"my-conversation\"  // Optional\n}\n</code></pre> <p>Context is maintained across all requests with the same <code>conversation_id</code>.</p>"},{"location":"guides/context-management/#best-practices","title":"Best Practices","text":""},{"location":"guides/context-management/#session-management","title":"Session Management","text":"<pre><code>// Generate conversation ID per user session\nfunction getConversationId(userId: string): string {\n  return `user-${userId}-${Date.now()}`;\n}\n\nconst conversationId = getConversationId('user123');\n</code></pre>"},{"location":"guides/context-management/#context-cleanup","title":"Context Cleanup","text":"<pre><code>// Clear old conversations\nasync function cleanupOldConversations(maxAge: number) {\n  const contextManager = fred.getContextManager();\n  // Implementation depends on storage backend\n}\n</code></pre>"},{"location":"guides/context-management/#context-limits","title":"Context Limits","text":"<p>For very long conversations, consider:</p> <ol> <li>Summarization: Periodically summarize old messages</li> <li>Truncation: Keep only recent N messages</li> <li>Pagination: Load context in chunks</li> </ol>"},{"location":"guides/context-management/#storage","title":"Storage","text":"<p>By default, context is stored in-memory. For production:</p> <ol> <li>Implement Custom Storage: Create a <code>ContextStorage</code> implementation</li> <li>Use Database: Store conversations in a database</li> <li>Persistence: Save context to disk or cloud storage</li> </ol>"},{"location":"guides/context-management/#custom-storage-example","title":"Custom Storage Example","text":"<pre><code>import { ContextStorage, ConversationContext } from 'fred';\n\nclass DatabaseStorage implements ContextStorage {\n  async get(id: string): Promise&lt;ConversationContext | null&gt; {\n    // Load from database\n  }\n\n  async set(id: string, context: ConversationContext): Promise&lt;void&gt; {\n    // Save to database\n  }\n\n  // ... other methods\n}\n\nconst storage = new DatabaseStorage();\nconst contextManager = new ContextManager(storage);\nfred.getContextManager().setStorage(storage);\n</code></pre>"},{"location":"guides/context-management/#examples","title":"Examples","text":""},{"location":"guides/context-management/#chat-application","title":"Chat Application","text":"<pre><code>// Web chat application\napp.post('/chat', async (req, res) =&gt; {\n  const { message, conversationId } = req.body;\n\n  const response = await fred.processMessage(message, {\n    conversationId: conversationId || fred.getContextManager().generateConversationId(),\n  });\n\n  res.json({ response, conversationId });\n});\n</code></pre>"},{"location":"guides/context-management/#multi-user-system","title":"Multi-User System","text":"<pre><code>// Different conversation per user\nconst userConversations = new Map();\n\nfunction getConversationId(userId: string): string {\n  if (!userConversations.has(userId)) {\n    const contextManager = fred.getContextManager();\n    userConversations.set(userId, contextManager.generateConversationId());\n  }\n  return userConversations.get(userId);\n}\n</code></pre>"},{"location":"guides/context-management/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Chat API</li> <li>Explore Default Agent</li> <li>Check API Reference</li> </ul>"},{"location":"guides/default-agent/","title":"Default Agent","text":"<p>The default agent handles all messages that don't match any intent. This ensures every message gets a response.</p>"},{"location":"guides/default-agent/#why-default-agent","title":"Why Default Agent?","text":"<p>Without a default agent, unmatched messages return <code>null</code>. With a default agent:</p> <ul> <li>Always Responsive: Every message gets a response</li> <li>Better UX: Users never see \"no response\" errors</li> <li>Fallback: Handles general queries and edge cases</li> </ul>"},{"location":"guides/default-agent/#setting-up-default-agent","title":"Setting Up Default Agent","text":""},{"location":"guides/default-agent/#basic-setup","title":"Basic Setup","text":"<pre><code>// Create an agent\nawait fred.createAgent({\n  id: 'default-agent',\n  systemMessage: 'You are a helpful assistant that can answer general questions.',\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n\n// Set as default\nfred.setDefaultAgent('default-agent');\n</code></pre>"},{"location":"guides/default-agent/#with-intent-routing","title":"With Intent Routing","text":"<pre><code>// Create specialized agents\nawait fred.createAgent({\n  id: 'math-agent',\n  systemMessage: 'You are a math expert.',\n  platform: 'openai',\n  model: 'gpt-4',\n});\n\nawait fred.createAgent({\n  id: 'code-agent',\n  systemMessage: 'You are a coding assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n});\n\n// Create default agent\nawait fred.createAgent({\n  id: 'default-agent',\n  systemMessage: 'You are a helpful general assistant.',\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n\nfred.setDefaultAgent('default-agent');\n\n// Register intents for specialized agents\nfred.registerIntent({\n  id: 'math',\n  utterances: ['calculate', 'math'],\n  action: { type: 'agent', target: 'math-agent' },\n});\n\nfred.registerIntent({\n  id: 'code',\n  utterances: ['code', 'programming'],\n  action: { type: 'agent', target: 'code-agent' },\n});\n\n// Now:\n// - Math questions \u2192 math-agent\n// - Code questions \u2192 code-agent\n// - Everything else \u2192 default-agent\n</code></pre>"},{"location":"guides/default-agent/#default-agent-behavior","title":"Default Agent Behavior","text":""},{"location":"guides/default-agent/#message-flow","title":"Message Flow","text":"<ol> <li>User sends message</li> <li>Fred tries to match intent</li> <li>If match found \u2192 route to intent's agent</li> <li>If no match \u2192 route to default agent</li> <li>Default agent always responds</li> </ol>"},{"location":"guides/default-agent/#example","title":"Example","text":"<pre><code>// Math question \u2192 routes to math-agent\nawait fred.processMessage('Calculate 5 + 3');\n\n// Code question \u2192 routes to code-agent\nawait fred.processMessage('How do I write a function?');\n\n// General question \u2192 routes to default-agent\nawait fred.processMessage('What is the weather?');\n</code></pre>"},{"location":"guides/default-agent/#best-practices","title":"Best Practices","text":""},{"location":"guides/default-agent/#general-purpose-default-agent","title":"General Purpose Default Agent","text":"<pre><code>await fred.createAgent({\n  id: 'default-agent',\n  systemMessage: `You are a helpful assistant. You can answer general questions,\n    help with various tasks, and provide information. If you don't know something,\n    be honest about it.`,\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',  // Cost-effective for general queries\n});\n</code></pre>"},{"location":"guides/default-agent/#cost-effective-default-agent","title":"Cost-Effective Default Agent","text":"<p>Use a cheaper/faster model for the default agent since it handles many messages:</p> <pre><code>// Specialized agents use expensive models\nawait fred.createAgent({\n  id: 'math-agent',\n  platform: 'openai',\n  model: 'gpt-4',  // Expensive but capable\n});\n\n// Default agent uses cheaper model\nawait fred.createAgent({\n  id: 'default-agent',\n  platform: 'groq',  // Fast and cheap\n  model: 'llama-3.1-70b-versatile',  // or 'llama-3.1-8b-instant' for faster responses\n});\n</code></pre>"},{"location":"guides/default-agent/#context-aware-default-agent","title":"Context-Aware Default Agent","text":"<pre><code>await fred.createAgent({\n  id: 'default-agent',\n  systemMessage: `You are a helpful assistant. Maintain context from previous\n    messages in the conversation. Be friendly and helpful.`,\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n\n// Context is automatically maintained\nconst response1 = await fred.processMessage('My name is Alice', { conversationId: 'conv1' });\nconst response2 = await fred.processMessage('What is my name?', { conversationId: 'conv1' });\n// Agent remembers: \"Your name is Alice\"\n</code></pre>"},{"location":"guides/default-agent/#checking-default-agent","title":"Checking Default Agent","text":"<pre><code>// Get default agent ID\nconst defaultAgentId = fred.getDefaultAgentId();\nconsole.log(defaultAgentId); // 'default-agent'\n\n// Get default agent instance\nconst defaultAgent = fred.getAgent(defaultAgentId);\n</code></pre>"},{"location":"guides/default-agent/#updating-default-agent","title":"Updating Default Agent","text":"<pre><code>// Create new default agent\nawait fred.createAgent({\n  id: 'new-default',\n  systemMessage: 'You are an updated assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n});\n\n// Update default agent\nfred.setDefaultAgent('new-default');\n</code></pre>"},{"location":"guides/default-agent/#examples","title":"Examples","text":""},{"location":"guides/default-agent/#multi-agent-system-with-default","title":"Multi-Agent System with Default","text":"<pre><code>// Customer support system\nawait fred.createAgent({\n  id: 'support-refund',\n  systemMessage: 'You handle refund requests.',\n  platform: 'openai',\n  model: 'gpt-4',\n});\n\nawait fred.createAgent({\n  id: 'support-technical',\n  systemMessage: 'You handle technical issues.',\n  platform: 'openai',\n  model: 'gpt-4',\n});\n\nawait fred.createAgent({\n  id: 'default-support',\n  systemMessage: 'You are a general customer support agent.',\n  platform: 'openai',\n  model: 'gpt-3.5-turbo',\n});\n\nfred.setDefaultAgent('default-support');\n\nfred.registerIntent({\n  id: 'refund',\n  utterances: ['refund', 'return money'],\n  action: { type: 'agent', target: 'support-refund' },\n});\n\nfred.registerIntent({\n  id: 'technical',\n  utterances: ['bug', 'not working', 'error'],\n  action: { type: 'agent', target: 'support-technical' },\n});\n</code></pre>"},{"location":"guides/default-agent/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Context Management</li> <li>Explore Agents</li> <li>Check API Reference</li> </ul>"},{"location":"guides/dev-chat/","title":"Development Chat","text":"<p>Fred includes a development chat interface for quickly testing agents and intents during development.</p>"},{"location":"guides/dev-chat/#starting-dev-chat","title":"Starting Dev Chat","text":"<pre><code>bun run dev\n</code></pre> <p>This starts an interactive terminal chat interface with hot reload.</p>"},{"location":"guides/dev-chat/#features","title":"Features","text":""},{"location":"guides/dev-chat/#hot-reload","title":"Hot Reload","text":"<p>The dev chat automatically reloads when you change code:</p> <pre><code>\ud83d\udcac Fred Dev Chat (Conversation ID: conv_1234567890_abc123)\nType your messages and press Enter. Type \"exit\" or \"quit\" to stop.\n\ud83d\udca1 Tip: Code changes will automatically reload Fred while preserving context!\n\n&gt; Hello!\n\n\ud83e\udd16 Hello! How can I help you today?\n\n[You edit your agent code...]\n\n\ud83d\udd04 Reloading Fred...\n\u2705 Loaded config from /path/to/config.json\n\u2705 Preserved conversation context (2 messages)\n\u2705 Fred reloaded successfully!\n\n&gt; What did I just say?\n\n\ud83e\udd16 You said \"Hello!\" earlier in our conversation.\n</code></pre>"},{"location":"guides/dev-chat/#context-preservation","title":"Context Preservation","text":"<p>Conversation context is maintained across reloads, so you can continue testing without losing conversation history.</p>"},{"location":"guides/dev-chat/#auto-config-loading","title":"Auto-Config Loading","text":"<p>The dev chat automatically loads config files if they exist:</p> <ul> <li><code>config.json</code></li> <li><code>fred.config.json</code></li> <li><code>config.yaml</code></li> <li><code>fred.config.yaml</code></li> </ul>"},{"location":"guides/dev-chat/#commands","title":"Commands","text":""},{"location":"guides/dev-chat/#exit-quit","title":"exit / quit","text":"<p>Exit the chat interface:</p> <pre><code>&gt; exit\n\ud83d\udc4b Goodbye!\n</code></pre>"},{"location":"guides/dev-chat/#clear-clear","title":"clear / /clear","text":"<p>Clear conversation context and start fresh:</p> <pre><code>&gt; clear\n\ud83e\uddf9 Conversation cleared. New conversation started.\n</code></pre>"},{"location":"guides/dev-chat/#help-help","title":"help / /help","text":"<p>Show available commands:</p> <pre><code>&gt; help\n\ud83d\udcd6 Commands:\n  exit, quit  - Exit the chat\n  clear, /clear - Clear conversation context\n  help, /help - Show this help message\n</code></pre>"},{"location":"guides/dev-chat/#usage-example","title":"Usage Example","text":"<pre><code>$ bun run dev\n\n\ud83d\udcac Fred Dev Chat (Conversation ID: conv_1234567890_abc123)\nType your messages and press Enter. Type \"exit\" or \"quit\" to stop.\n\ud83d\udca1 Tip: Code changes will automatically reload Fred while preserving context!\n\n&gt; Hello!\n\n\ud83e\udd16 Hello! How can I help you today?\n\n&gt; Calculate 5 + 3\n\n\ud83e\udd16 The result is 8.\n\n&gt; [Edit code to add new intent...]\n\n\ud83d\udd04 Reloading Fred...\n\u2705 Fred reloaded successfully!\n\n&gt; Test new intent\n\n\ud83e\udd16 [Response from new intent]\n</code></pre>"},{"location":"guides/dev-chat/#file-watching","title":"File Watching","text":"<p>The dev chat watches these paths for changes:</p> <ul> <li><code>src/</code> directory (recursive)</li> <li><code>config.json</code></li> <li><code>fred.config.json</code></li> <li><code>config.yaml</code></li> <li><code>fred.config.yaml</code></li> </ul> <p>Changes trigger automatic reload with a 500ms debounce.</p>"},{"location":"guides/dev-chat/#configuration","title":"Configuration","text":"<p>The dev chat uses the same configuration as your application:</p> <ol> <li>Loads config files automatically</li> <li>Uses environment variables for API keys</li> <li>Registers default providers if no config</li> </ol>"},{"location":"guides/dev-chat/#best-practices","title":"Best Practices","text":"<ol> <li>Keep Terminal Open: Leave the dev chat running while developing</li> <li>Test Incrementally: Test changes as you make them</li> <li>Use Clear Command: Clear context when testing new features</li> <li>Watch for Reloads: Check reload messages to ensure changes are picked up</li> </ol>"},{"location":"guides/dev-chat/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/dev-chat/#reload-not-working","title":"Reload Not Working","text":"<ul> <li>Check that files are being saved</li> <li>Verify file paths are correct</li> <li>Check console for error messages</li> </ul>"},{"location":"guides/dev-chat/#context-not-preserved","title":"Context Not Preserved","text":"<ul> <li>Ensure conversation ID is maintained</li> <li>Check that context manager is working</li> <li>Verify no errors during reload</li> </ul>"},{"location":"guides/dev-chat/#no-response","title":"No Response","text":"<ul> <li>Ensure default agent is set</li> <li>Check that providers are configured</li> <li>Verify API keys are set</li> </ul>"},{"location":"guides/dev-chat/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Agents</li> <li>Explore Intents</li> <li>Check Examples</li> </ul>"},{"location":"guides/evaluation/","title":"Evaluation Harness &amp; Golden Traces","text":"<p>Fred provides a comprehensive evaluation harness using \"golden traces\" - deterministic snapshots of agent runs that can be used for regression testing and validation.</p>"},{"location":"guides/evaluation/#overview","title":"Overview","text":"<p>Golden traces capture the complete execution of an agent run, including:</p> <ul> <li>Message: The input message</li> <li>Spans: All tracing spans with timing and attributes</li> <li>Response: The agent's response</li> <li>Tool Calls: All tool invocations with arguments and results</li> <li>Handoffs: Agent-to-agent transfers</li> <li>Routing: How the message was routed to the agent</li> </ul>"},{"location":"guides/evaluation/#golden-trace-format","title":"Golden Trace Format","text":"<p>Golden traces are versioned JSON files with the format:</p> <pre><code>{\n  \"version\": \"1.0\",\n  \"metadata\": {\n    \"timestamp\": 1234567890,\n    \"fredVersion\": \"0.1.2\",\n    \"config\": {\n      \"useSemanticMatching\": true,\n      \"semanticThreshold\": 0.6\n    }\n  },\n  \"trace\": {\n    \"message\": \"Hello, world!\",\n    \"spans\": [...],\n    \"response\": {\n      \"content\": \"Hello! How can I help?\",\n      \"toolCalls\": [...]\n    },\n    \"toolCalls\": [...],\n    \"handoffs\": [...],\n    \"routing\": {\n      \"method\": \"agent.utterance\",\n      \"agentId\": \"greeting-agent\",\n      \"confidence\": 1.0\n    }\n  }\n}\n</code></pre> <p>Files are named: <code>trace-v1.0.0-{hash}.json</code></p>"},{"location":"guides/evaluation/#recording-golden-traces","title":"Recording Golden Traces","text":""},{"location":"guides/evaluation/#using-the-cli","title":"Using the CLI","text":"<pre><code># Record a new golden trace\nfred test --record \"Hello, world!\"\n\n# Record with specific config\nfred test --record \"Hello, world!\" --config fred.config.yaml\n</code></pre>"},{"location":"guides/evaluation/#programmatically","title":"Programmatically","text":"<pre><code>import { Fred } from 'fred';\nimport { NoOpTracer } from 'fred/core/tracing';\nimport { GoldenTraceRecorder } from 'fred/core/eval/recorder';\n\nconst fred = new Fred();\nconst tracer = new NoOpTracer();\nfred.enableTracing(tracer);\n\nconst recorder = new GoldenTraceRecorder(tracer);\nrecorder.recordMessage('Hello, world!');\n\nconst response = await fred.processMessage('Hello, world!');\nrecorder.recordResponse(response);\n\n// Save to file\nconst filepath = await recorder.saveToFile('tests/golden-traces');\nconsole.log(`Saved to: ${filepath}`);\n</code></pre>"},{"location":"guides/evaluation/#writing-test-cases","title":"Writing Test Cases","text":"<p>Create a <code>test-cases.json</code> file in your traces directory:</p> <pre><code>[\n  {\n    \"name\": \"greeting-test\",\n    \"traceFile\": \"trace-v1.0.0-abc123.json\",\n    \"assertions\": [\n      {\n        \"type\": \"agentSelected\",\n        \"args\": [\"greeting-agent\"]\n      },\n      {\n        \"type\": \"responseContains\",\n        \"args\": [\"Hello\"]\n      },\n      {\n        \"type\": \"timing\",\n        \"args\": [\"model.call\", 5000]\n      }\n    ]\n  }\n]\n</code></pre>"},{"location":"guides/evaluation/#running-tests","title":"Running Tests","text":""},{"location":"guides/evaluation/#using-the-cli_1","title":"Using the CLI","text":"<pre><code># Run all tests\nfred test\n\n# Run tests matching a pattern\nfred test greeting\n\n# Update existing traces\nfred test --update\n</code></pre>"},{"location":"guides/evaluation/#programmatically_1","title":"Programmatically","text":"<pre><code>import { runTestCases, loadGoldenTrace } from 'fred/core/eval/assertion-runner';\n\nconst testCases = [\n  {\n    name: 'greeting-test',\n    traceFile: 'trace-v1.0.0-abc123.json',\n    assertions: [\n      { type: 'agentSelected', args: ['greeting-agent'] },\n      { type: 'responseContains', args: ['Hello'] },\n    ],\n  },\n];\n\nconst results = await runTestCases(testCases, 'tests/golden-traces');\nconsole.log(formatTestResults(results));\n</code></pre>"},{"location":"guides/evaluation/#assertions","title":"Assertions","text":""},{"location":"guides/evaluation/#asserttoolcalled","title":"assertToolCalled","text":"<p>Verify a tool was called with specific arguments:</p> <pre><code>assertToolCalled(trace, 'weather-api', { location: 'New York' });\n</code></pre>"},{"location":"guides/evaluation/#assertagentselected","title":"assertAgentSelected","text":"<p>Verify the correct agent was selected:</p> <pre><code>assertAgentSelected(trace, 'greeting-agent');\n</code></pre>"},{"location":"guides/evaluation/#asserthandoff","title":"assertHandoff","text":"<p>Verify a handoff occurred:</p> <pre><code>assertHandoff(trace, 'agent-a', 'agent-b');\n</code></pre>"},{"location":"guides/evaluation/#assertresponsecontains","title":"assertResponseContains","text":"<p>Verify the response contains specific text:</p> <pre><code>assertResponseContains(trace, 'Hello', false); // case-insensitive\n</code></pre>"},{"location":"guides/evaluation/#assertspan","title":"assertSpan","text":"<p>Verify a span exists with specific attributes:</p> <pre><code>assertSpan(trace, 'model.call', {\n  'model.name': 'gpt-4',\n  'usage.totalTokens': { $lt: 1000 }, // Custom comparison\n});\n</code></pre>"},{"location":"guides/evaluation/#asserttiming","title":"assertTiming","text":"<p>Verify performance constraints:</p> <pre><code>assertTiming(trace, 'model.call', 5000); // Max 5 seconds\n</code></pre>"},{"location":"guides/evaluation/#assertschema","title":"assertSchema","text":"<p>Validate trace structure:</p> <pre><code>assertSchema(trace);\n</code></pre>"},{"location":"guides/evaluation/#cicd-integration","title":"CI/CD Integration","text":"<p>Golden traces are perfect for CI/CD pipelines:</p> <pre><code># .github/workflows/test.yml\nname: Test\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - uses: oven-sh/setup-bun@v1\n      - run: bun install\n      - run: fred test\n</code></pre>"},{"location":"guides/evaluation/#best-practices","title":"Best Practices","text":"<ol> <li>Version traces: Use semantic versioning in filenames</li> <li>Commit traces: Commit golden traces to version control</li> <li>Update carefully: Review changes when updating traces</li> <li>Test frequently: Run tests in CI on every commit</li> <li>Use patterns: Group related tests with naming patterns</li> <li>Monitor timing: Set reasonable timing constraints</li> <li>Validate schemas: Always validate trace schemas</li> </ol>"},{"location":"guides/evaluation/#updating-traces","title":"Updating Traces","text":"<p>When agent behavior changes (intentionally), update traces:</p> <pre><code># Update all traces\nfred test --update\n\n# Update specific traces\nfred test --update --pattern greeting\n</code></pre> <p>Important: Review changes before committing updated traces.</p>"},{"location":"guides/evaluation/#trace-structure","title":"Trace Structure","text":""},{"location":"guides/evaluation/#spans","title":"Spans","text":"<p>Each span includes: - <code>name</code>: Span name - <code>startTime</code>: Start timestamp (ms) - <code>endTime</code>: End timestamp (ms) - <code>duration</code>: Duration (ms) - <code>attributes</code>: Key-value attributes - <code>events</code>: Span events - <code>status</code>: Status code and message</p>"},{"location":"guides/evaluation/#tool-calls","title":"Tool Calls","text":"<p>Each tool call includes: - <code>toolId</code>: Tool identifier - <code>args</code>: Tool arguments - <code>result</code>: Tool result - <code>timing</code>: Start, end, duration - <code>status</code>: Success or error</p>"},{"location":"guides/evaluation/#handoffs","title":"Handoffs","text":"<p>Each handoff includes: - <code>fromAgent</code>: Source agent (optional) - <code>toAgent</code>: Target agent - <code>message</code>: Handoff message - <code>context</code>: Additional context - <code>timing</code>: Start, end, duration - <code>depth</code>: Handoff depth in chain</p>"},{"location":"guides/evaluation/#examples","title":"Examples","text":"<p>See the examples directory for complete evaluation examples.</p>"},{"location":"guides/hooks/","title":"Pipeline Hooks","text":"<p>Fred provides a comprehensive hooks system that allows you to intercept and modify the message processing pipeline at strategic points. This enables powerful features like context injection, logging, analytics, and custom processing logic.</p>"},{"location":"guides/hooks/#overview","title":"Overview","text":"<p>Hooks are functions that execute at specific points in the message processing pipeline. You can register multiple hooks for the same hook point, and they will execute in registration order.</p>"},{"location":"guides/hooks/#available-hook-points","title":"Available Hook Points","text":"<p>Fred provides 12 hook points covering the entire message processing lifecycle:</p> <ol> <li>beforeMessageReceived - Before processing starts</li> <li>afterMessageReceived - After message added to context</li> <li>beforeIntentDetermined - Before intent matching</li> <li>afterIntentDetermined - After intent match found</li> <li>beforeAgentSelected - Before agent is chosen</li> <li>afterAgentSelected - After agent selected</li> <li>beforeToolCalled - Before tool execution</li> <li>afterToolCalled - After tool execution</li> <li>beforeResponseGenerated - Before AI generates response</li> <li>afterResponseGenerated - After response generated</li> <li>beforeContextInserted - Before context added to conversation</li> <li>afterContextInserted - After context added</li> </ol>"},{"location":"guides/hooks/#registering-hooks","title":"Registering Hooks","text":"<pre><code>import { Fred, HookType } from 'fred';\n\nconst fred = new Fred();\n\n// Register a hook\nfred.registerHook('beforeToolCalled', async (event) =&gt; {\n  console.log('Tool about to be called:', event.data);\n\n  // Return context to inject\n  return {\n    context: {\n      timestamp: Date.now(),\n      toolName: event.data.toolId,\n    },\n  };\n});\n</code></pre>"},{"location":"guides/hooks/#hook-event-structure","title":"Hook Event Structure","text":"<p>Each hook receives an event object with the following structure:</p> <pre><code>interface HookEvent {\n  type: HookType;              // The hook point type\n  data: any;                   // Event-specific data\n  conversationId?: string;     // Conversation ID if available\n  metadata?: Record&lt;string, any&gt;; // Additional metadata\n}\n</code></pre>"},{"location":"guides/hooks/#hook-result","title":"Hook Result","text":"<p>Hooks can return a result to modify the pipeline:</p> <pre><code>interface HookResult {\n  context?: Record&lt;string, any&gt;;  // Context to inject\n  data?: any;                     // Modified data\n  skip?: boolean;                 // Skip next step\n  metadata?: Record&lt;string, any&gt;;  // Additional metadata\n}\n</code></pre>"},{"location":"guides/hooks/#examples","title":"Examples","text":""},{"location":"guides/hooks/#context-injection","title":"Context Injection","text":"<p>Inject context at various pipeline stages:</p> <pre><code>// Inject user preferences before agent selection\nfred.registerHook('beforeAgentSelected', async (event) =&gt; {\n  const userId = event.metadata?.userId;\n  const preferences = await getUserPreferences(userId);\n\n  return {\n    context: {\n      userPreferences: preferences,\n    },\n  };\n});\n\n// Add timestamp to tool calls\nfred.registerHook('beforeToolCalled', async (event) =&gt; {\n  return {\n    context: {\n      toolCallTimestamp: Date.now(),\n    },\n  };\n});\n</code></pre>"},{"location":"guides/hooks/#logging-and-analytics","title":"Logging and Analytics","text":"<p>Track message processing:</p> <pre><code>// Log all messages\nfred.registerHook('afterMessageReceived', async (event) =&gt; {\n  console.log('Message received:', {\n    conversationId: event.conversationId,\n    message: event.data.message,\n    timestamp: Date.now(),\n  });\n\n  // Send to analytics\n  await analytics.track('message_received', {\n    conversationId: event.conversationId,\n  });\n});\n\n// Track tool usage\nfred.registerHook('afterToolCalled', async (event) =&gt; {\n  await analytics.track('tool_used', {\n    toolId: event.data.toolId,\n    conversationId: event.conversationId,\n  });\n});\n</code></pre>"},{"location":"guides/hooks/#modify-agent-selection","title":"Modify Agent Selection","text":"<p>Intercept and modify agent selection:</p> <pre><code>fred.registerHook('afterIntentDetermined', async (event) =&gt; {\n  const intent = event.data.intent;\n\n  // Override agent selection based on custom logic\n  if (intent.id === 'support' &amp;&amp; isBusinessHours()) {\n    return {\n      data: {\n        ...event.data,\n        action: {\n          type: 'agent',\n          target: 'support-agent-business-hours',\n        },\n      },\n    };\n  }\n});\n</code></pre>"},{"location":"guides/hooks/#modify-tool-parameters","title":"Modify Tool Parameters","text":"<p>Adjust tool parameters before execution:</p> <pre><code>fred.registerHook('beforeToolCalled', async (event) =&gt; {\n  const toolCall = event.data;\n\n  // Add additional context to tool calls\n  if (toolCall.toolId === 'search') {\n    return {\n      data: {\n        ...toolCall,\n        args: {\n          ...toolCall.args,\n          includeMetadata: true,\n          userId: event.metadata?.userId,\n        },\n      },\n    };\n  }\n});\n</code></pre>"},{"location":"guides/hooks/#response-modification","title":"Response Modification","text":"<p>Modify responses before they're returned:</p> <pre><code>fred.registerHook('afterResponseGenerated', async (event) =&gt; {\n  const response = event.data;\n\n  // Add metadata to response\n  return {\n    data: {\n      ...response,\n      metadata: {\n        processingTime: event.metadata?.processingTime,\n        model: event.metadata?.model,\n      },\n    },\n  };\n});\n</code></pre>"},{"location":"guides/hooks/#multiple-hooks","title":"Multiple Hooks","text":"<p>You can register multiple hooks for the same hook point. They execute in registration order, and results are merged:</p> <pre><code>// First hook\nfred.registerHook('beforeToolCalled', async (event) =&gt; {\n  return { context: { hook1: 'value1' } };\n});\n\n// Second hook\nfred.registerHook('beforeToolCalled', async (event) =&gt; {\n  return { context: { hook2: 'value2' } };\n});\n\n// Both contexts are merged: { hook1: 'value1', hook2: 'value2' }\n</code></pre>"},{"location":"guides/hooks/#unregistering-hooks","title":"Unregistering Hooks","text":"<p>Remove a hook handler:</p> <pre><code>const handler = async (event) =&gt; {\n  // Hook logic\n};\n\nfred.registerHook('beforeToolCalled', handler);\n\n// Later, unregister it\nfred.unregisterHook('beforeToolCalled', handler);\n</code></pre>"},{"location":"guides/hooks/#error-handling","title":"Error Handling","text":"<p>Hooks that throw errors don't stop the pipeline. Errors are logged, and processing continues:</p> <pre><code>fred.registerHook('beforeToolCalled', async (event) =&gt; {\n  try {\n    // Your logic\n  } catch (error) {\n    // Error is logged automatically\n    // Pipeline continues\n  }\n});\n</code></pre>"},{"location":"guides/hooks/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Keep Hooks Fast: Hooks execute synchronously in the pipeline. Keep them fast to avoid delays.</p> </li> <li> <p>Use Async Appropriately: Hooks can be async, but consider the impact on response time.</p> </li> <li> <p>Don't Modify Event Data Directly: Return modified data in the result instead of mutating the event.</p> </li> <li> <p>Use Context for Additional Data: Use the context field to pass data between hooks and the pipeline.</p> </li> <li> <p>Handle Errors Gracefully: Errors in hooks are logged but don't stop processing.</p> </li> <li> <p>Document Your Hooks: Document what each hook does and when it's used.</p> </li> </ol>"},{"location":"guides/hooks/#hook-execution-order","title":"Hook Execution Order","text":"<p>Hooks execute in the order they're registered. For hooks that return data, the last hook's data takes precedence when merging results.</p>"},{"location":"guides/hooks/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Agents</li> <li>Explore Intents</li> <li>Check API Reference</li> </ul>"},{"location":"guides/intents/","title":"Intents","text":"<p>Intents define how user messages are matched and routed to specific agents or actions.</p>"},{"location":"guides/intents/#intent-structure","title":"Intent Structure","text":"<pre><code>interface Intent {\n  id: string;                    // Unique identifier\n  utterances: string[];          // Phrases that trigger this intent\n  action: {\n    type: 'agent' | 'function';  // Action type\n    target: string;               // Agent ID or function name\n    payload?: any;                // Optional payload\n  };\n  description?: string;           // Optional description\n}\n</code></pre>"},{"location":"guides/intents/#creating-intents","title":"Creating Intents","text":""},{"location":"guides/intents/#basic-intent","title":"Basic Intent","text":"<pre><code>fred.registerIntent({\n  id: 'greeting',\n  utterances: ['hello', 'hi', 'hey', 'greetings'],\n  action: {\n    type: 'agent',\n    target: 'greeting-agent',\n  },\n});\n</code></pre>"},{"location":"guides/intents/#intent-with-multiple-utterances","title":"Intent with Multiple Utterances","text":"<pre><code>fred.registerIntent({\n  id: 'math-question',\n  utterances: [\n    'calculate',\n    'compute',\n    'what is',\n    'solve',\n    'math',\n    'arithmetic',\n  ],\n  action: {\n    type: 'agent',\n    target: 'math-agent',\n  },\n});\n</code></pre>"},{"location":"guides/intents/#intent-matching","title":"Intent Matching","text":"<p>Fred uses a hybrid matching strategy:</p> <ol> <li>Exact Match: Tries exact string matching first</li> <li>Regex Match: Tries regex pattern matching</li> <li>Semantic Match: Falls back to semantic similarity</li> </ol>"},{"location":"guides/intents/#exact-matching","title":"Exact Matching","text":"<pre><code>fred.registerIntent({\n  id: 'exact-greeting',\n  utterances: ['hello'],  // Only matches exactly \"hello\"\n  action: { type: 'agent', target: 'agent' },\n});\n</code></pre>"},{"location":"guides/intents/#regex-matching","title":"Regex Matching","text":"<pre><code>fred.registerIntent({\n  id: 'email-pattern',\n  utterances: ['.*@.*\\\\..*'],  // Regex pattern for email\n  action: { type: 'agent', target: 'agent' },\n});\n</code></pre>"},{"location":"guides/intents/#semantic-matching","title":"Semantic Matching","text":"<p>Semantic matching is enabled by default and uses similarity scoring:</p> <pre><code>const response = await fred.processMessage('Hey there!', {\n  useSemanticMatching: true,\n  semanticThreshold: 0.6,  // Minimum similarity score (0-1)\n});\n</code></pre>"},{"location":"guides/intents/#intent-actions","title":"Intent Actions","text":""},{"location":"guides/intents/#route-to-agent","title":"Route to Agent","text":"<pre><code>fred.registerIntent({\n  id: 'math',\n  utterances: ['calculate'],\n  action: {\n    type: 'agent',\n    target: 'math-agent',  // Routes to this agent\n  },\n});\n</code></pre>"},{"location":"guides/intents/#route-to-function","title":"Route to Function","text":"<pre><code>fred.registerIntent({\n  id: 'custom-action',\n  utterances: ['custom'],\n  action: {\n    type: 'function',\n    target: 'myFunction',\n    payload: { key: 'value' },\n  },\n});\n</code></pre>"},{"location":"guides/intents/#routing-priority","title":"Routing Priority","text":"<p>Fred routes messages in the following priority order:</p> <ol> <li>Agent Utterances: Direct routing via agent-level utterances (highest priority)</li> <li>Intent Matching: Match against registered intents</li> <li>Default Agent: Fallback to default agent if no match found</li> </ol> <p>Note: Agent-level utterances take priority over intent matching. If an agent defines utterances, messages matching those utterances will route directly to that agent, bypassing intent matching.</p>"},{"location":"guides/intents/#intent-priority","title":"Intent Priority","text":"<p>Intents are matched in registration order. More specific intents should be registered first:</p> <pre><code>// Register specific intents first\nfred.registerIntent({\n  id: 'specific-math',\n  utterances: ['calculate the square root'],\n  action: { type: 'agent', target: 'math-agent' },\n});\n\n// Then general intents\nfred.registerIntent({\n  id: 'general-math',\n  utterances: ['math', 'calculate'],\n  action: { type: 'agent', target: 'math-agent' },\n});\n</code></pre>"},{"location":"guides/intents/#best-practices","title":"Best Practices","text":"<ol> <li>Specific First: Register specific intents before general ones</li> <li>Multiple Utterances: Include variations of phrases users might say</li> <li>Semantic Matching: Use semantic matching for better user experience</li> <li>Default Agent: Always have a default agent for unmatched messages</li> <li>Clear Intent IDs: Use descriptive IDs for easier debugging</li> </ol>"},{"location":"guides/intents/#examples","title":"Examples","text":""},{"location":"guides/intents/#customer-support-intents","title":"Customer Support Intents","text":"<pre><code>fred.registerIntent({\n  id: 'support-refund',\n  utterances: ['refund', 'return money', 'get my money back'],\n  action: { type: 'agent', target: 'support-agent' },\n});\n\nfred.registerIntent({\n  id: 'support-technical',\n  utterances: ['technical issue', 'bug', 'not working', 'error'],\n  action: { type: 'agent', target: 'technical-support-agent' },\n});\n</code></pre>"},{"location":"guides/intents/#multi-language-support","title":"Multi-Language Support","text":"<pre><code>fred.registerIntent({\n  id: 'greeting',\n  utterances: [\n    'hello', 'hi', 'hey',           // English\n    'hola', 'buenos dias',          // Spanish\n    'bonjour', 'salut',             // French\n  ],\n  action: { type: 'agent', target: 'greeting-agent' },\n});\n</code></pre>"},{"location":"guides/intents/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Agents</li> <li>Explore Default Agent</li> <li>Check API Reference</li> </ul>"},{"location":"guides/providers/","title":"Providers","text":"<p>Fred supports all AI providers available in the Vercel AI SDK. This guide covers how to configure and use different providers.</p>"},{"location":"guides/providers/#supported-providers","title":"Supported Providers","text":"<p>Fred supports 20+ AI providers:</p> <ul> <li>OpenAI - GPT-4, GPT-3.5, and more</li> <li>Anthropic - Claude models</li> <li>Google - Gemini models</li> <li>Groq - Fast inference</li> <li>Mistral - Mistral AI models</li> <li>Cohere - Cohere models</li> <li>Vercel - Vercel's v0 API</li> <li>Azure OpenAI - Azure-hosted OpenAI</li> <li>Azure Anthropic - Azure-hosted Anthropic</li> <li>Fireworks - Fireworks AI</li> <li>X.AI - Grok models</li> <li>Ollama - Local models</li> <li>AI21 - Jurassic models</li> <li>NVIDIA - NVIDIA NIM</li> <li>Amazon Bedrock - AWS Bedrock</li> <li>Cloudflare - Cloudflare Workers AI</li> <li>ElevenLabs - Voice AI</li> <li>Lepton - Lepton AI</li> <li>Perplexity - Perplexity AI</li> <li>Replicate - Replicate models</li> <li>Together - Together AI</li> <li>Upstash - Upstash AI</li> </ul>"},{"location":"guides/providers/#using-providers","title":"Using Providers","text":""},{"location":"guides/providers/#basic-usage","title":"Basic Usage","text":"<pre><code>// Use a provider\nconst openai = await fred.useProvider('openai', { \n  apiKey: 'your-api-key' \n});\n\n// Create agent with that provider\nawait fred.createAgent({\n  id: 'agent',\n  platform: 'openai',\n  model: 'gpt-4',\n  systemMessage: 'You are helpful.',\n});\n</code></pre>"},{"location":"guides/providers/#multiple-providers","title":"Multiple Providers","text":"<pre><code>// Register multiple providers\nawait fred.useProvider('openai', { apiKey: 'openai-key' });\nawait fred.useProvider('groq', { apiKey: 'groq-key' });\nawait fred.useProvider('anthropic', { apiKey: 'anthropic-key' });\n\n// Use different providers for different agents\nawait fred.createAgent({\n  id: 'fast-agent',\n  platform: 'groq',  // Fast responses\n  model: 'llama-3.1-70b-versatile',  // or 'llama-3.1-8b-instant' for faster responses\n});\n\nawait fred.createAgent({\n  id: 'powerful-agent',\n  platform: 'openai',  // More capable\n  model: 'gpt-4',\n});\n</code></pre>"},{"location":"guides/providers/#provider-configuration","title":"Provider Configuration","text":""},{"location":"guides/providers/#api-key","title":"API Key","text":"<pre><code>await fred.useProvider('openai', {\n  apiKey: 'your-api-key',\n});\n</code></pre>"},{"location":"guides/providers/#custom-base-url","title":"Custom Base URL","text":"<pre><code>await fred.useProvider('openai', {\n  apiKey: 'your-api-key',\n  baseURL: 'https://api.openai.com/v1',  // Custom endpoint\n});\n</code></pre>"},{"location":"guides/providers/#custom-headers","title":"Custom Headers","text":"<pre><code>await fred.useProvider('openai', {\n  apiKey: 'your-api-key',\n  headers: {\n    'X-Custom-Header': 'value',\n  },\n});\n</code></pre>"},{"location":"guides/providers/#custom-fetch","title":"Custom Fetch","text":"<pre><code>await fred.useProvider('openai', {\n  apiKey: 'your-api-key',\n  fetch: customFetchImplementation,\n});\n</code></pre>"},{"location":"guides/providers/#environment-variables","title":"Environment Variables","text":"<p>Set API keys via environment variables:</p> <pre><code>export OPENAI_API_KEY=your_key\nexport GROQ_API_KEY=your_key\nexport ANTHROPIC_API_KEY=your_key\n</code></pre> <p>Then use default providers:</p> <pre><code>fred.registerDefaultProviders();\n</code></pre>"},{"location":"guides/providers/#provider-specific-examples","title":"Provider-Specific Examples","text":""},{"location":"guides/providers/#openai","title":"OpenAI","text":"<pre><code>await fred.useProvider('openai', { \n  apiKey: process.env.OPENAI_API_KEY \n});\n\nawait fred.createAgent({\n  platform: 'openai',\n  model: 'gpt-4',  // or 'gpt-3.5-turbo', 'gpt-4-turbo'\n});\n</code></pre>"},{"location":"guides/providers/#anthropic","title":"Anthropic","text":"<pre><code>await fred.useProvider('anthropic', { \n  apiKey: process.env.ANTHROPIC_API_KEY \n});\n\nawait fred.createAgent({\n  platform: 'anthropic',\n  model: 'claude-3-opus-20240229',  // or other Claude models\n});\n</code></pre>"},{"location":"guides/providers/#groq","title":"Groq","text":"<pre><code>await fred.useProvider('groq', { \n  apiKey: process.env.GROQ_API_KEY \n});\n\nawait fred.createAgent({\n  platform: 'groq',\n  model: 'llama-3.1-70b-versatile',  // Fast inference (or 'llama-3.1-8b-instant' for faster)\n});\n</code></pre>"},{"location":"guides/providers/#google","title":"Google","text":"<pre><code>await fred.useProvider('google', { \n  apiKey: process.env.GOOGLE_GENERATIVE_AI_API_KEY \n});\n\nawait fred.createAgent({\n  platform: 'google',\n  model: 'gemini-pro',  // or other Gemini models\n});\n</code></pre>"},{"location":"guides/providers/#ollama-local","title":"Ollama (Local)","text":"<pre><code>await fred.useProvider('ollama', {\n  baseURL: 'http://localhost:11434',  // Local Ollama instance\n});\n\nawait fred.createAgent({\n  platform: 'ollama',\n  model: 'llama2',  // Local model\n});\n</code></pre>"},{"location":"guides/providers/#model-selection","title":"Model Selection","text":"<p>Different providers offer different models. Choose based on your needs:</p> <ul> <li>Speed: Groq, Cloudflare</li> <li>Capability: OpenAI GPT-4, Anthropic Claude Opus</li> <li>Cost: OpenAI GPT-3.5, Groq</li> <li>Local: Ollama</li> </ul>"},{"location":"guides/providers/#best-practices","title":"Best Practices","text":"<ol> <li>API Keys: Store API keys in environment variables, never in code</li> <li>Provider Selection: Choose providers based on speed, cost, and capability needs</li> <li>Fallback: Have backup providers for reliability</li> <li>Rate Limits: Be aware of provider rate limits</li> <li>Cost Management: Monitor usage and costs</li> </ol>"},{"location":"guides/providers/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Agents</li> <li>Explore Custom Providers</li> <li>Check API Reference</li> </ul>"},{"location":"guides/tools/","title":"Tools","text":"<p>Tools extend agent capabilities by providing functions they can call. Tools are reusable and can be assigned to multiple agents.</p>"},{"location":"guides/tools/#tool-structure","title":"Tool Structure","text":"<pre><code>interface Tool {\n  id: string;                    // Unique identifier\n  name: string;                  // Tool name\n  description: string;           // Description for the AI\n  parameters: {\n    type: 'object';\n    properties: Record&lt;string, ToolParameter&gt;;\n    required?: string[];\n  };\n  execute: (args: Record&lt;string, any&gt;) =&gt; Promise&lt;any&gt; | any;\n}\n</code></pre>"},{"location":"guides/tools/#creating-tools","title":"Creating Tools","text":""},{"location":"guides/tools/#basic-tool","title":"Basic Tool","text":"<pre><code>fred.registerTool({\n  id: 'calculator',\n  name: 'calculator',\n  description: 'Perform basic arithmetic operations',\n  parameters: {\n    type: 'object',\n    properties: {\n      operation: {\n        type: 'string',\n        description: 'The operation to perform',\n        enum: ['add', 'subtract', 'multiply', 'divide'],\n      },\n      a: {\n        type: 'number',\n        description: 'First number',\n      },\n      b: {\n        type: 'number',\n        description: 'Second number',\n      },\n    },\n    required: ['operation', 'a', 'b'],\n  },\n  execute: async (args) =&gt; {\n    const { operation, a, b } = args;\n    switch (operation) {\n      case 'add': return a + b;\n      case 'subtract': return a - b;\n      case 'multiply': return a * b;\n      case 'divide': return b !== 0 ? a / b : 'Error: Division by zero';\n    }\n  },\n});\n</code></pre>"},{"location":"guides/tools/#tool-with-complex-parameters","title":"Tool with Complex Parameters","text":"<pre><code>fred.registerTool({\n  id: 'weather',\n  name: 'weather',\n  description: 'Get weather information for a location',\n  parameters: {\n    type: 'object',\n    properties: {\n      location: {\n        type: 'string',\n        description: 'City name or location',\n      },\n      units: {\n        type: 'string',\n        description: 'Temperature units',\n        enum: ['celsius', 'fahrenheit'],\n      },\n      date: {\n        type: 'string',\n        description: 'Date for weather forecast (YYYY-MM-DD)',\n      },\n    },\n    required: ['location'],\n  },\n  execute: async (args) =&gt; {\n    // Fetch weather data\n    const { location, units = 'celsius', date } = args;\n    // ... implementation\n    return weatherData;\n  },\n});\n</code></pre>"},{"location":"guides/tools/#tool-parameters","title":"Tool Parameters","text":""},{"location":"guides/tools/#string-parameters","title":"String Parameters","text":"<pre><code>properties: {\n  name: {\n    type: 'string',\n    description: 'Person name',\n  },\n}\n</code></pre>"},{"location":"guides/tools/#number-parameters","title":"Number Parameters","text":"<pre><code>properties: {\n  count: {\n    type: 'number',\n    description: 'Number of items',\n  },\n}\n</code></pre>"},{"location":"guides/tools/#boolean-parameters","title":"Boolean Parameters","text":"<pre><code>properties: {\n  enabled: {\n    type: 'boolean',\n    description: 'Enable feature',\n  },\n}\n</code></pre>"},{"location":"guides/tools/#enum-parameters","title":"Enum Parameters","text":"<pre><code>properties: {\n  status: {\n    type: 'string',\n    description: 'Status value',\n    enum: ['active', 'inactive', 'pending'],\n  },\n}\n</code></pre>"},{"location":"guides/tools/#object-parameters","title":"Object Parameters","text":"<pre><code>properties: {\n  user: {\n    type: 'object',\n    description: 'User information',\n    properties: {\n      name: { type: 'string' },\n      age: { type: 'number' },\n    },\n    required: ['name'],\n  },\n}\n</code></pre>"},{"location":"guides/tools/#array-parameters","title":"Array Parameters","text":"<pre><code>properties: {\n  items: {\n    type: 'array',\n    description: 'List of items',\n    items: {\n      type: 'string',\n    },\n  },\n}\n</code></pre>"},{"location":"guides/tools/#assigning-tools-to-agents","title":"Assigning Tools to Agents","text":"<pre><code>// Register tools\nfred.registerTool({ id: 'calculator', /* ... */ });\nfred.registerTool({ id: 'weather', /* ... */ });\n\n// Create agent with tools\nawait fred.createAgent({\n  id: 'assistant',\n  systemMessage: 'You are a helpful assistant.',\n  platform: 'openai',\n  model: 'gpt-4',\n  tools: ['calculator', 'weather'],  // Assign multiple tools\n});\n</code></pre>"},{"location":"guides/tools/#tool-execution","title":"Tool Execution","text":"<p>Tools are automatically called by agents when needed:</p> <pre><code>const response = await fred.processMessage('What is 15 * 27?');\n\n// Agent automatically calls calculator tool\nconsole.log(response.content);  // \"The result is 405\"\nconsole.log(response.toolCalls); // [{ toolId: 'calculator', args: {...}, result: 405 }]\n</code></pre>"},{"location":"guides/tools/#async-tools","title":"Async Tools","text":"<p>Tools can be async for API calls or database operations:</p> <pre><code>fred.registerTool({\n  id: 'fetch-data',\n  name: 'fetch-data',\n  description: 'Fetch data from an API',\n  parameters: {\n    type: 'object',\n    properties: {\n      url: { type: 'string', description: 'API URL' },\n    },\n    required: ['url'],\n  },\n  execute: async (args) =&gt; {\n    const response = await fetch(args.url);\n    return await response.json();\n  },\n});\n</code></pre>"},{"location":"guides/tools/#error-handling","title":"Error Handling","text":"<p>Handle errors in tool execution:</p> <pre><code>fred.registerTool({\n  id: 'safe-divide',\n  name: 'safe-divide',\n  description: 'Divide two numbers safely',\n  parameters: {\n    type: 'object',\n    properties: {\n      a: { type: 'number' },\n      b: { type: 'number' },\n    },\n    required: ['a', 'b'],\n  },\n  execute: async (args) =&gt; {\n    try {\n      if (args.b === 0) {\n        throw new Error('Division by zero');\n      }\n      return args.a / args.b;\n    } catch (error) {\n      return `Error: ${error.message}`;\n    }\n  },\n});\n</code></pre>"},{"location":"guides/tools/#best-practices","title":"Best Practices","text":"<ol> <li>Clear Descriptions: Write clear descriptions so the AI understands when to use the tool</li> <li>Required Parameters: Mark essential parameters as required</li> <li>Type Safety: Use proper types for parameters</li> <li>Error Handling: Always handle errors gracefully</li> <li>Reusability: Design tools to be reusable across multiple agents</li> </ol>"},{"location":"guides/tools/#examples","title":"Examples","text":""},{"location":"guides/tools/#database-query-tool","title":"Database Query Tool","text":"<pre><code>fred.registerTool({\n  id: 'query-db',\n  name: 'query-db',\n  description: 'Query the database',\n  parameters: {\n    type: 'object',\n    properties: {\n      table: { type: 'string', description: 'Table name' },\n      where: { type: 'object', description: 'Where conditions' },\n      limit: { type: 'number', description: 'Result limit' },\n    },\n    required: ['table'],\n  },\n  execute: async (args) =&gt; {\n    // Database query implementation\n    return results;\n  },\n});\n</code></pre>"},{"location":"guides/tools/#file-operations-tool","title":"File Operations Tool","text":"<pre><code>fred.registerTool({\n  id: 'read-file',\n  name: 'read-file',\n  description: 'Read a file from the filesystem',\n  parameters: {\n    type: 'object',\n    properties: {\n      path: { type: 'string', description: 'File path' },\n    },\n    required: ['path'],\n  },\n  execute: async (args) =&gt; {\n    const file = Bun.file(args.path);\n    return await file.text();\n  },\n});\n</code></pre>"},{"location":"guides/tools/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Agents</li> <li>Explore Providers</li> <li>Check API Reference</li> </ul>"}]}